2021-01-17 15:06:48.831 INFO main - serve: Started server process [28048]
2021-01-17 15:06:48.834 INFO on - startup: Waiting for application startup.
2021-01-17 15:06:48.839 INFO on - startup: Application startup complete.
2021-01-17 15:06:48.841 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-17 15:06:50.510 INFO main - shutdown: Shutting down
2021-01-17 15:06:50.614 INFO on - shutdown: Waiting for application shutdown.
2021-01-17 15:06:50.614 ERROR qr_logger - log_warning: quitting the application now




2021-01-17 15:06:50.614 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-17 15:06:50.618 INFO on - shutdown: Application shutdown complete.
2021-01-17 15:06:50.622 INFO main - serve: Finished server process [28048]
2021-01-21 09:37:41.293 INFO main - serve: Started server process [18168]
2021-01-21 09:37:41.301 INFO on - startup: Waiting for application startup.
2021-01-21 09:37:41.301 INFO on - startup: Application startup complete.
2021-01-21 09:37:41.301 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:38:19.802 INFO main - shutdown: Shutting down
2021-01-21 09:38:19.905 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:38:19.905 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:38:19.907 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:38:19.907 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:38:19.909 INFO main - serve: Finished server process [18168]
2021-01-21 09:38:23.751 INFO main - serve: Started server process [19664]
2021-01-21 09:38:23.752 INFO on - startup: Waiting for application startup.
2021-01-21 09:38:23.754 INFO on - startup: Application startup complete.
2021-01-21 09:38:23.755 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:38:34.586 WARNING main - add_process_time_header: Path is: /users
execution time is 0.011442184448242188
2021-01-21 09:38:35.001 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 151, in add_process_time_header
    path = [route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
  File "main.py", line 151, in <listcomp>
    path = [route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
KeyError: 'endpoint'
2021-01-21 09:38:46.061 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.09063148498535156
2021-01-21 09:38:47.160 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 151, in add_process_time_header
    path = [route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
  File "main.py", line 151, in <listcomp>
    path = [route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
KeyError: 'endpoint'
2021-01-21 09:38:50.819 INFO main - shutdown: Shutting down
2021-01-21 09:38:50.924 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:38:50.925 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:38:50.925 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:38:50.928 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:38:50.930 INFO main - serve: Finished server process [19664]
2021-01-21 09:38:56.350 INFO main - serve: Started server process [27296]
2021-01-21 09:38:56.351 INFO on - startup: Waiting for application startup.
2021-01-21 09:38:56.353 INFO on - startup: Application startup complete.
2021-01-21 09:38:56.355 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:39:00.160 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.05946016311645508
2021-01-21 09:39:00.454 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 151, in add_process_time_header
    path = [route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
  File "main.py", line 151, in <listcomp>
    path = [route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
KeyError: 'endpoint'
2021-01-21 09:42:06.220 INFO main - shutdown: Shutting down
2021-01-21 09:42:06.328 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:42:06.329 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:42:06.330 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:42:06.332 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:42:06.334 INFO main - serve: Finished server process [27296]
2021-01-21 09:42:10.941 INFO main - serve: Started server process [27316]
2021-01-21 09:42:10.941 INFO on - startup: Waiting for application startup.
2021-01-21 09:42:10.944 INFO on - startup: Application startup complete.
2021-01-21 09:42:10.946 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:42:15.729 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 151, in add_process_time_header
    path = request.scopes['path']#[route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
AttributeError: 'Request' object has no attribute 'scopes'
2021-01-21 09:42:16.165 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 151, in add_process_time_header
    path = request.scopes['path']#[route for route in request.scope['router'].routes if route.endpoint == request.scope['endpoint']][0].path
AttributeError: 'Request' object has no attribute 'scopes'
2021-01-21 09:42:33.477 INFO main - shutdown: Shutting down
2021-01-21 09:42:33.578 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:42:33.579 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:42:33.579 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:42:33.581 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:42:33.582 INFO main - serve: Finished server process [27316]
2021-01-21 09:42:38.296 INFO main - serve: Started server process [12176]
2021-01-21 09:42:38.297 INFO on - startup: Waiting for application startup.
2021-01-21 09:42:38.298 INFO on - startup: Application startup complete.
2021-01-21 09:42:38.299 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:42:43.511 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.04392361640930176
2021-01-21 09:42:43.980 WARNING main - add_process_time_header: Path is: /favicon.ico
execution time is 0.007589101791381836
2021-01-21 09:50:24.302 INFO main - shutdown: Shutting down
2021-01-21 09:50:24.404 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:50:24.405 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:50:24.406 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:50:24.409 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:50:24.411 INFO main - serve: Finished server process [12176]
2021-01-21 09:50:28.800 INFO main - serve: Started server process [24500]
2021-01-21 09:50:28.800 INFO on - startup: Waiting for application startup.
2021-01-21 09:50:28.802 INFO on - startup: Application startup complete.
2021-01-21 09:50:28.802 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:50:33.108 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.03357243537902832
2021-01-21 09:50:33.116 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 171, in add_process_time_header
    print(response.body)
AttributeError: 'StreamingResponse' object has no attribute 'body'
2021-01-21 09:50:50.103 INFO main - shutdown: Shutting down
2021-01-21 09:50:50.213 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:50:50.214 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:50:50.214 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:50:50.215 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:50:50.216 INFO main - serve: Finished server process [24500]
2021-01-21 09:50:53.854 INFO main - serve: Started server process [21488]
2021-01-21 09:50:53.857 INFO on - startup: Waiting for application startup.
2021-01-21 09:50:53.862 INFO on - startup: Application startup complete.
2021-01-21 09:50:53.864 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:51:00.864 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.08624672889709473
2021-01-21 09:51:52.818 INFO main - shutdown: Shutting down
2021-01-21 09:51:52.923 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:51:52.923 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:51:52.923 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:51:52.925 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:51:52.926 INFO main - serve: Finished server process [21488]
2021-01-21 09:51:56.863 INFO main - serve: Started server process [27348]
2021-01-21 09:51:56.863 INFO on - startup: Waiting for application startup.
2021-01-21 09:51:56.865 INFO on - startup: Application startup complete.
2021-01-21 09:51:56.868 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:52:02.497 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.06010937690734863
2021-01-21 09:52:02.516 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 172, in add_process_time_header
    print(response.body_iterator.__dict__)
AttributeError: 'async_generator' object has no attribute '__dict__'
2021-01-21 09:52:13.772 INFO main - shutdown: Shutting down
2021-01-21 09:52:13.875 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:52:13.876 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:52:13.877 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:52:13.881 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:52:13.883 INFO main - serve: Finished server process [27348]
2021-01-21 09:52:17.538 INFO main - serve: Started server process [7676]
2021-01-21 09:52:17.538 INFO on - startup: Waiting for application startup.
2021-01-21 09:52:17.543 INFO on - startup: Application startup complete.
2021-01-21 09:52:17.544 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:52:25.637 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.04691815376281738
2021-01-21 09:53:51.107 INFO main - shutdown: Shutting down
2021-01-21 09:53:51.215 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:53:51.216 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:53:51.216 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:53:51.219 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:53:51.220 INFO main - serve: Finished server process [7676]
2021-01-21 09:54:02.198 INFO main - serve: Started server process [17448]
2021-01-21 09:54:02.202 INFO on - startup: Waiting for application startup.
2021-01-21 09:54:02.203 INFO on - startup: Application startup complete.
2021-01-21 09:54:02.205 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:54:07.330 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.039485931396484375
2021-01-21 09:54:37.389 INFO main - shutdown: Shutting down
2021-01-21 09:54:37.497 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:54:37.497 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:54:37.498 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:54:37.498 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:54:37.499 INFO main - serve: Finished server process [17448]
2021-01-21 09:54:41.681 INFO main - serve: Started server process [26148]
2021-01-21 09:54:41.685 INFO on - startup: Waiting for application startup.
2021-01-21 09:54:41.687 INFO on - startup: Application startup complete.
2021-01-21 09:54:41.688 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:54:46.475 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.03707170486450195
2021-01-21 09:54:46.482 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 171, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 111, in get_request_data
    analysis_dict['request_size'] = request.headers['Content-length']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'Content-length'
2021-01-21 09:55:02.355 INFO main - shutdown: Shutting down
2021-01-21 09:55:02.457 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 09:55:02.458 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 09:55:02.458 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 09:55:02.459 INFO on - shutdown: Application shutdown complete.
2021-01-21 09:55:02.460 INFO main - serve: Finished server process [26148]
2021-01-21 09:55:06.222 INFO main - serve: Started server process [26716]
2021-01-21 09:55:06.224 INFO on - startup: Waiting for application startup.
2021-01-21 09:55:06.225 INFO on - startup: Application startup complete.
2021-01-21 09:55:06.227 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 09:55:10.995 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.03030085563659668
2021-01-21 09:55:11.003 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 171, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 111, in get_request_data
    analysis_dict['request_size'] = request.headers['content-length']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'content-length'
2021-01-21 10:02:56.173 INFO main - shutdown: Shutting down
2021-01-21 10:02:56.276 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:02:56.277 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:02:56.278 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:02:56.279 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:02:56.280 INFO main - serve: Finished server process [26716]
2021-01-21 10:02:59.382 INFO main - serve: Started server process [19912]
2021-01-21 10:02:59.384 INFO on - startup: Waiting for application startup.
2021-01-21 10:02:59.385 INFO on - startup: Application startup complete.
2021-01-21 10:02:59.387 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:03:06.936 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.023059368133544922
2021-01-21 10:03:06.945 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 172, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 114, in get_request_data
    analysis_dict['request_type'] = request.type
AttributeError: 'Request' object has no attribute 'type'
2021-01-21 10:05:13.334 INFO main - shutdown: Shutting down
2021-01-21 10:05:13.436 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:05:13.437 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:05:13.438 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:05:13.441 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:05:13.442 INFO main - serve: Finished server process [19912]
2021-01-21 10:05:19.044 INFO main - serve: Started server process [27796]
2021-01-21 10:05:19.045 INFO on - startup: Waiting for application startup.
2021-01-21 10:05:19.046 INFO on - startup: Application startup complete.
2021-01-21 10:05:19.047 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:05:22.818 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.02415943145751953
2021-01-21 10:05:22.824 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 172, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 116, in get_request_data
    analysis_dict['content_type'] = request.headers['content_type']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'content_type'
2021-01-21 10:06:58.459 INFO main - shutdown: Shutting down
2021-01-21 10:06:58.562 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:06:58.563 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:06:58.564 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:06:58.567 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:06:58.568 INFO main - serve: Finished server process [27796]
2021-01-21 10:07:01.639 INFO main - serve: Started server process [3940]
2021-01-21 10:07:01.639 INFO on - startup: Waiting for application startup.
2021-01-21 10:07:01.640 INFO on - startup: Application startup complete.
2021-01-21 10:07:01.642 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:07:06.322 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.019973278045654297
2021-01-21 10:07:06.325 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 172, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 116, in get_request_data
    analysis_dict['content_type'] = request.headers['content_type']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'content_type'
2021-01-21 10:07:58.697 INFO main - shutdown: Shutting down
2021-01-21 10:07:58.800 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:07:58.801 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:07:58.801 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:07:58.804 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:07:58.808 INFO main - serve: Finished server process [3940]
2021-01-21 10:08:03.269 INFO main - serve: Started server process [1960]
2021-01-21 10:08:03.270 INFO on - startup: Waiting for application startup.
2021-01-21 10:08:03.271 INFO on - startup: Application startup complete.
2021-01-21 10:08:03.272 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:08:08.498 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.020026445388793945
2021-01-21 10:08:08.505 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 172, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 117, in get_request_data
    analysis_dict['origin'] = request.headers['origin']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'origin'
2021-01-21 10:08:52.134 INFO main - shutdown: Shutting down
2021-01-21 10:08:52.235 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:08:52.236 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:08:52.237 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:08:52.240 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:08:52.242 INFO main - serve: Finished server process [1960]
2021-01-21 10:08:55.383 INFO main - serve: Started server process [27804]
2021-01-21 10:08:55.384 INFO on - startup: Waiting for application startup.
2021-01-21 10:08:55.386 INFO on - startup: Application startup complete.
2021-01-21 10:08:55.387 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:08:59.407 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.030005455017089844
2021-01-21 10:08:59.415 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 172, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 121, in get_request_data
    analysis_dict['datetime'] = datetime.datetime.now()
NameError: name 'datetime' is not defined
2021-01-21 10:09:14.413 INFO main - shutdown: Shutting down
2021-01-21 10:09:14.514 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:09:14.514 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:09:14.515 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:09:14.516 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:09:14.516 INFO main - serve: Finished server process [27804]
2021-01-21 10:09:17.932 INFO main - serve: Started server process [3996]
2021-01-21 10:09:17.933 INFO on - startup: Waiting for application startup.
2021-01-21 10:09:17.934 INFO on - startup: Application startup complete.
2021-01-21 10:09:17.935 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:09:23.070 WARNING main - add_process_time_header: Path is: /users/
execution time is 0.018999099731445312
2021-01-21 10:09:49.483 WARNING main - add_process_time_header: Path is: /docs
execution time is 0.005056142807006836
2021-01-21 10:09:50.358 WARNING main - add_process_time_header: Path is: /openapi.json
execution time is 0.01508021354675293
2021-01-21 10:09:58.821 WARNING main - add_process_time_header: Path is: /[object Module]
execution time is 0.003997802734375
2021-01-21 10:10:06.613 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 158, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 218, in app
    is_coroutine=is_coroutine,
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 126, in serialize_response
    raise ValidationError(errors, field.type_)
pydantic.error_wrappers.ValidationError: 4 validation errors for Users
response -> name
  field required (type=value_error.missing)
response -> email
  field required (type=value_error.missing)
response -> password
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
2021-01-21 10:11:12.796 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 158, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 218, in app
    is_coroutine=is_coroutine,
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 126, in serialize_response
    raise ValidationError(errors, field.type_)
pydantic.error_wrappers.ValidationError: 4 validation errors for Users
response -> name
  field required (type=value_error.missing)
response -> email
  field required (type=value_error.missing)
response -> password
  field required (type=value_error.missing)
response -> id
  field required (type=value_error.missing)
2021-01-21 10:14:07.992 INFO main - shutdown: Shutting down
2021-01-21 10:14:08.095 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:14:08.096 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:14:08.096 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:14:08.098 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:14:08.098 INFO main - serve: Finished server process [3996]
2021-01-21 10:14:13.178 INFO main - serve: Started server process [6132]
2021-01-21 10:14:13.179 INFO on - startup: Waiting for application startup.
2021-01-21 10:14:13.180 INFO on - startup: Application startup complete.
2021-01-21 10:14:13.181 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:14:23.520 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.029998779296875
2021-01-21 10:15:30.511 INFO main - shutdown: Shutting down
2021-01-21 10:15:30.613 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:15:30.615 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:15:30.615 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:15:30.616 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:15:30.617 INFO main - serve: Finished server process [6132]
2021-01-21 10:18:35.046 INFO main - serve: Started server process [25596]
2021-01-21 10:18:35.047 INFO on - startup: Waiting for application startup.
2021-01-21 10:18:35.048 INFO on - startup: Application startup complete.
2021-01-21 10:18:35.049 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:18:39.416 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.020000934600830078
2021-01-21 10:18:39.421 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 173, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 112, in get_request_data
    analysis_dict['same_origin_yn'] = request.scope['sec-fetch-site'] if 'sec-fetch-site' in request.headers else 'same'
KeyError: 'sec-fetch-site'
2021-01-21 10:21:31.628 INFO main - shutdown: Shutting down
2021-01-21 10:21:31.730 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:21:31.731 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:21:31.732 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:21:31.733 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:21:31.734 INFO main - serve: Finished server process [25596]
2021-01-21 10:21:34.800 INFO main - serve: Started server process [26088]
2021-01-21 10:21:34.801 INFO on - startup: Waiting for application startup.
2021-01-21 10:21:34.802 INFO on - startup: Application startup complete.
2021-01-21 10:21:34.802 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:21:38.523 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.03199577331542969
2021-01-21 10:22:50.661 INFO main - shutdown: Shutting down
2021-01-21 10:22:50.762 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:22:50.762 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:22:50.762 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:22:50.762 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:22:50.763 INFO main - serve: Finished server process [26088]
2021-01-21 10:22:53.940 INFO main - serve: Started server process [26008]
2021-01-21 10:22:53.940 INFO on - startup: Waiting for application startup.
2021-01-21 10:22:53.940 INFO on - startup: Application startup complete.
2021-01-21 10:22:53.940 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:22:57.425 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.018001079559326172
2021-01-21 10:25:18.575 INFO main - shutdown: Shutting down
2021-01-21 10:25:18.675 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:25:18.675 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:25:18.675 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:25:18.676 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:25:18.677 INFO main - serve: Finished server process [26008]
2021-01-21 10:25:22.483 INFO main - serve: Started server process [28648]
2021-01-21 10:25:22.484 INFO on - startup: Waiting for application startup.
2021-01-21 10:25:22.484 INFO on - startup: Application startup complete.
2021-01-21 10:25:22.485 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:25:29.235 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.013997793197631836
2021-01-21 10:25:29.238 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 175, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 130, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 28, in insert_request_response_data
    analysis_data = models.RequestResponseDetails(analysis_dict)
TypeError: __init__() takes 1 positional argument but 2 were given
2021-01-21 10:30:48.250 INFO main - shutdown: Shutting down
2021-01-21 10:30:48.352 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:30:48.352 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:30:48.353 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:30:48.357 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:30:48.359 INFO main - serve: Finished server process [28648]
2021-01-21 10:30:51.127 INFO main - serve: Started server process [27820]
2021-01-21 10:30:51.128 INFO on - startup: Waiting for application startup.
2021-01-21 10:30:51.129 INFO on - startup: Application startup complete.
2021-01-21 10:30:51.129 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:30:54.643 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.019972562789916992
2021-01-21 10:30:54.645 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 175, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 130, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 32, in insert_request_response_data
    referrer = analysis_dict['referer'], browser_name= analysis_dict['browser_name'],
KeyError: 'browser_name'
2021-01-21 10:31:25.552 INFO main - shutdown: Shutting down
2021-01-21 10:31:25.653 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:31:25.653 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:31:25.654 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:31:25.655 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:31:25.655 INFO main - serve: Finished server process [27820]
2021-01-21 10:31:29.034 INFO main - serve: Started server process [28272]
2021-01-21 10:31:29.034 INFO on - startup: Waiting for application startup.
2021-01-21 10:31:29.035 INFO on - startup: Application startup complete.
2021-01-21 10:31:29.036 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:31:33.000 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.01605701446533203
2021-01-21 10:31:33.005 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 175, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 130, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 36, in insert_request_response_data
    db.add(analysis_data)
AttributeError: 'generator' object has no attribute 'add'
2021-01-21 10:32:23.938 INFO main - shutdown: Shutting down
2021-01-21 10:32:24.040 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:32:24.040 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:32:24.040 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:32:24.041 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:32:24.041 INFO main - serve: Finished server process [28272]
2021-01-21 10:32:27.309 INFO main - serve: Started server process [24184]
2021-01-21 10:32:27.309 INFO on - startup: Waiting for application startup.
2021-01-21 10:32:27.310 INFO on - startup: Application startup complete.
2021-01-21 10:32:27.311 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:32:31.084 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.014998674392700195
2021-01-21 10:32:31.087 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 175, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 130, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 36, in insert_request_response_data
    db.add(analysis_data)
AttributeError: 'Depends' object has no attribute 'add'
2021-01-21 10:33:29.277 INFO main - shutdown: Shutting down
2021-01-21 10:33:29.378 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:33:29.378 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:33:29.379 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:33:29.382 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:33:29.383 INFO main - serve: Finished server process [24184]
2021-01-21 10:37:02.457 INFO main - serve: Started server process [2604]
2021-01-21 10:37:02.458 INFO on - startup: Waiting for application startup.
2021-01-21 10:37:02.459 INFO on - startup: Application startup complete.
2021-01-21 10:37:02.459 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:37:13.669 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.01599407196044922
2021-01-21 10:37:13.705 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 131, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 37, in insert_request_response_data
    db.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 937, in commit
    self.transaction.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2237, in flush
    self._flush(objects)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2363, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2327, in _flush
    flush_context.execute()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 391, in execute
    rec.execute(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 556, in execute
    uow
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1132, in _execute_context
    None, None)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\default.py", line 693, in _init_compiled
    for key in compiled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\default.py", line 693, in <genexpr>
    for key in compiled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\sqltypes.py", line 1676, in process
    value = _strict_as_bool(value)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\sqltypes.py", line 1653, in _strict_as_bool
    "Not a boolean value: %r" % value)
sqlalchemy.exc.StatementError: (builtins.TypeError) Not a boolean value: 'same' [SQL: 'INSERT INTO request_response_details (same_origin_yn, request_size, response_size, request_type, request_method, content_type, origin, referrer, browser_name, destination_path, device_name, ip_address, datetime, execution_time) VALUES (%(same_origin_yn)s, %(request_size)s, %(response_size)s, %(request_type)s, %(request_method)s, %(content_type)s, %(origin)s, %(referrer)s, %(browser_name)s, %(destination_path)s, %(device_name)s, %(ip_address)s, %(datetime)s, %(execution_time)s) RETURNING request_response_details.id'] [parameters: [{'content_type': '', 'request_size': 0, 'destination_path': 'cors', 'response_size': '66', 'datetime': datetime.datetime(2021, 1, 21, 10, 37, 13, 669183), 'ip_address': '', 'referrer': 'http://127.0.0.1:8000/docs', 'execution_time': '0.01599407196044922', 'browser_name': 'chrome', 'origin': '', 'device_name': '', 'request_method': 'GET', 'same_origin_yn': 'same', 'request_type': 'http'}]]
2021-01-21 10:37:40.415 INFO main - shutdown: Shutting down
2021-01-21 10:37:40.517 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:37:40.519 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:37:40.519 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:37:40.520 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:37:40.522 INFO main - serve: Finished server process [2604]
2021-01-21 10:37:43.772 INFO main - serve: Started server process [26900]
2021-01-21 10:37:43.773 INFO on - startup: Waiting for application startup.
2021-01-21 10:37:43.774 INFO on - startup: Application startup complete.
2021-01-21 10:37:43.776 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:37:48.651 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.013998270034790039
2021-01-21 10:37:48.703 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 131, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 37, in insert_request_response_data
    db.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 937, in commit
    self.transaction.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2237, in flush
    self._flush(objects)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2363, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2327, in _flush
    flush_context.execute()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 391, in execute
    rec.execute(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 556, in execute
    uow
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1200, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1193, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "0.013998270034790039"
LINE 1: ... '', '', '2021-01-21T10:37:48.651194'::timestamp, '0.0139982...
                                                             ^
 [SQL: 'INSERT INTO request_response_details (same_origin_yn, request_size, response_size, request_type, request_method, content_type, origin, referrer, browser_name, destination_path, device_name, ip_address, datetime, execution_time) VALUES (%(same_origin_yn)s, %(request_size)s, %(response_size)s, %(request_type)s, %(request_method)s, %(content_type)s, %(origin)s, %(referrer)s, %(browser_name)s, %(destination_path)s, %(device_name)s, %(ip_address)s, %(datetime)s, %(execution_time)s) RETURNING request_response_details.id'] [parameters: {'same_origin_yn': True, 'request_size': 0, 'response_size': '66', 'request_type': 'http', 'request_method': 'GET', 'content_type': '', 'origin': '', 'referrer': 'http://127.0.0.1:8000/docs', 'browser_name': 'chrome', 'destination_path': 'cors', 'device_name': '', 'ip_address': '', 'datetime': datetime.datetime(2021, 1, 21, 10, 37, 48, 651194), 'execution_time': '0.013998270034790039'}] (Background on this error at: http://sqlalche.me/e/9h9h)
2021-01-21 10:38:40.772 INFO main - shutdown: Shutting down
2021-01-21 10:38:40.872 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:38:40.872 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:38:40.873 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:38:40.876 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:38:40.877 INFO main - serve: Finished server process [26900]
2021-01-21 10:38:43.956 INFO main - serve: Started server process [25892]
2021-01-21 10:38:43.956 INFO on - startup: Waiting for application startup.
2021-01-21 10:38:43.957 INFO on - startup: Application startup complete.
2021-01-21 10:38:43.958 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:38:49.819 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.014001607894897461
2021-01-21 10:38:49.822 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 125, in get_request_data
    analysis_dict['datetime'] = time.time.now()
AttributeError: 'builtin_function_or_method' object has no attribute 'now'
2021-01-21 10:39:11.839 INFO main - shutdown: Shutting down
2021-01-21 10:39:11.939 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:39:11.940 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:39:11.941 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:39:11.944 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:39:11.946 INFO main - serve: Finished server process [25892]
2021-01-21 10:39:16.338 INFO main - serve: Started server process [13236]
2021-01-21 10:39:16.339 INFO on - startup: Waiting for application startup.
2021-01-21 10:39:16.339 INFO on - startup: Application startup complete.
2021-01-21 10:39:16.340 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:39:22.080 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.0209963321685791
2021-01-21 10:39:22.084 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 125, in get_request_data
    analysis_dict['datetime'] = time.time*1000
TypeError: unsupported operand type(s) for *: 'builtin_function_or_method' and 'int'
2021-01-21 10:39:42.224 INFO main - shutdown: Shutting down
2021-01-21 10:39:42.325 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:39:42.326 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:39:42.327 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:39:42.330 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:39:42.331 INFO main - serve: Finished server process [13236]
2021-01-21 10:39:45.772 INFO main - serve: Started server process [26952]
2021-01-21 10:39:45.773 INFO on - startup: Waiting for application startup.
2021-01-21 10:39:45.774 INFO on - startup: Application startup complete.
2021-01-21 10:39:45.774 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:39:49.179 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.014022588729858398
2021-01-21 10:39:49.182 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 125, in get_request_data
    analysis_dict['datetime'] = str(time.time*1000)
TypeError: unsupported operand type(s) for *: 'builtin_function_or_method' and 'int'
2021-01-21 10:40:06.821 INFO main - shutdown: Shutting down
2021-01-21 10:40:06.921 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:40:06.922 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:40:06.922 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:40:06.925 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:40:06.927 INFO main - serve: Finished server process [26952]
2021-01-21 10:40:09.652 INFO main - serve: Started server process [24160]
2021-01-21 10:40:09.653 INFO on - startup: Waiting for application startup.
2021-01-21 10:40:09.653 INFO on - startup: Application startup complete.
2021-01-21 10:40:09.654 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:40:12.524 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.013996362686157227
2021-01-21 10:40:12.571 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 131, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 37, in insert_request_response_data
    db.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 937, in commit
    self.transaction.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2237, in flush
    self._flush(objects)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2363, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2327, in _flush
    flush_context.execute()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 391, in execute
    rec.execute(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 556, in execute
    uow
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1200, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1193, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.DatatypeMismatch) column "datetime" is of type timestamp without time zone but expression is of type numeric
LINE 1: ...//127.0.0.1:8000/docs', 'chrome', 'cors', '', '', 1611205812...
                                                             ^
HINT:  You will need to rewrite or cast the expression.
 [SQL: 'INSERT INTO request_response_details (same_origin_yn, request_size, response_size, request_type, request_method, content_type, origin, referrer, browser_name, destination_path, device_name, ip_address, datetime, execution_time) VALUES (%(same_origin_yn)s, %(request_size)s, %(response_size)s, %(request_type)s, %(request_method)s, %(content_type)s, %(origin)s, %(referrer)s, %(browser_name)s, %(destination_path)s, %(device_name)s, %(ip_address)s, %(datetime)s, %(execution_time)s) RETURNING request_response_details.id'] [parameters: {'same_origin_yn': True, 'request_size': 0, 'response_size': '66', 'request_type': 'http', 'request_method': 'GET', 'content_type': '', 'origin': '', 'referrer': 'http://127.0.0.1:8000/docs', 'browser_name': 'chrome', 'destination_path': 'cors', 'device_name': '', 'ip_address': '', 'datetime': 1611205812525.7588, 'execution_time': '0.013996362686157227'}] (Background on this error at: http://sqlalche.me/e/f405)
2021-01-21 10:41:03.441 INFO main - shutdown: Shutting down
2021-01-21 10:41:03.543 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:41:03.545 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:41:03.545 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:41:03.548 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:41:03.550 INFO main - serve: Finished server process [24160]
2021-01-21 10:41:06.829 INFO main - serve: Started server process [25836]
2021-01-21 10:41:06.830 INFO on - startup: Waiting for application startup.
2021-01-21 10:41:06.831 INFO on - startup: Application startup complete.
2021-01-21 10:41:06.831 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:41:37.754 INFO main - shutdown: Shutting down
2021-01-21 10:41:37.854 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:41:37.855 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:41:37.856 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:41:37.859 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:41:37.860 INFO main - serve: Finished server process [25836]
2021-01-21 10:41:42.272 INFO main - serve: Started server process [23484]
2021-01-21 10:41:42.273 INFO on - startup: Waiting for application startup.
2021-01-21 10:41:42.274 INFO on - startup: Application startup complete.
2021-01-21 10:41:42.274 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:41:49.701 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.017000436782836914
2021-01-21 10:41:49.749 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 131, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 37, in insert_request_response_data
    db.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 937, in commit
    self.transaction.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2237, in flush
    self._flush(objects)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2363, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2327, in _flush
    flush_context.execute()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 391, in execute
    rec.execute(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 556, in execute
    uow
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1200, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1193, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "0.017000436782836914"
LINE 1: ...s', 'chrome', 'cors', '', '', 1611205909702.5906, '0.0170004...
                                                             ^
 [SQL: 'INSERT INTO request_response_details (same_origin_yn, request_size, response_size, request_type, request_method, content_type, origin, referrer, browser_name, destination_path, device_name, ip_address, datetime, execution_time) VALUES (%(same_origin_yn)s, %(request_size)s, %(response_size)s, %(request_type)s, %(request_method)s, %(content_type)s, %(origin)s, %(referrer)s, %(browser_name)s, %(destination_path)s, %(device_name)s, %(ip_address)s, %(datetime)s, %(execution_time)s) RETURNING request_response_details.id'] [parameters: {'same_origin_yn': True, 'request_size': 0, 'response_size': '66', 'request_type': 'http', 'request_method': 'GET', 'content_type': '', 'origin': '', 'referrer': 'http://127.0.0.1:8000/docs', 'browser_name': 'chrome', 'destination_path': 'cors', 'device_name': '', 'ip_address': '', 'datetime': 1611205909702.5906, 'execution_time': '0.017000436782836914'}] (Background on this error at: http://sqlalche.me/e/9h9h)
2021-01-21 10:43:02.449 INFO main - shutdown: Shutting down
2021-01-21 10:43:02.552 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:43:02.553 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:43:02.554 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:43:02.557 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:43:02.558 INFO main - serve: Finished server process [23484]
2021-01-21 10:43:05.320 INFO main - serve: Started server process [10992]
2021-01-21 10:43:05.321 INFO on - startup: Waiting for application startup.
2021-01-21 10:43:05.322 INFO on - startup: Application startup complete.
2021-01-21 10:43:05.322 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:43:08.566 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.01500082015991211
2021-01-21 10:43:08.612 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 131, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 37, in insert_request_response_data
    db.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 937, in commit
    self.transaction.commit()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2237, in flush
    self._flush(objects)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2363, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\session.py", line 2327, in _flush
    flush_context.execute()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 391, in execute
    rec.execute(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\unitofwork.py", line 556, in execute
    uow
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\sql\elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1200, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\base.py", line 1193, in _execute_context
    context)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\engine\default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (psycopg2.errors.NumericValueOutOfRange) integer out of range
 [SQL: 'INSERT INTO request_response_details (same_origin_yn, request_size, response_size, request_type, request_method, content_type, origin, referrer, browser_name, destination_path, device_name, ip_address, datetime, execution_time) VALUES (%(same_origin_yn)s, %(request_size)s, %(response_size)s, %(request_type)s, %(request_method)s, %(content_type)s, %(origin)s, %(referrer)s, %(browser_name)s, %(destination_path)s, %(device_name)s, %(ip_address)s, %(datetime)s, %(execution_time)s) RETURNING request_response_details.id'] [parameters: {'same_origin_yn': True, 'request_size': 0, 'response_size': '66', 'request_type': 'http', 'request_method': 'GET', 'content_type': '', 'origin': '', 'referrer': 'http://127.0.0.1:8000/docs', 'browser_name': 'chrome', 'destination_path': 'cors', 'device_name': '', 'ip_address': '', 'datetime': 1611205988566.9504, 'execution_time': '0.01500082015991211'}] (Background on this error at: http://sqlalche.me/e/9h9h)
2021-01-21 10:45:19.597 INFO main - shutdown: Shutting down
2021-01-21 10:45:19.697 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:45:19.698 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:45:19.698 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:45:19.700 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:45:19.701 INFO main - serve: Finished server process [10992]
2021-01-21 10:46:01.229 INFO main - serve: Started server process [24460]
2021-01-21 10:46:01.229 INFO on - startup: Waiting for application startup.
2021-01-21 10:46:01.230 INFO on - startup: Application startup complete.
2021-01-21 10:46:01.230 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:46:06.367 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.01499795913696289
2021-01-21 10:46:06.408 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 177, in add_process_time_header
    await get_request_data(request, response)
  File "main.py", line 131, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 39, in insert_request_response_data
    return db_user
NameError: name 'db_user' is not defined
2021-01-21 10:46:28.589 INFO main - shutdown: Shutting down
2021-01-21 10:46:28.692 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 10:46:28.692 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 10:46:28.692 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 10:46:28.692 INFO on - shutdown: Application shutdown complete.
2021-01-21 10:46:28.692 INFO main - serve: Finished server process [24460]
2021-01-21 10:46:31.820 INFO main - serve: Started server process [17652]
2021-01-21 10:46:31.821 INFO on - startup: Waiting for application startup.
2021-01-21 10:46:31.822 INFO on - startup: Application startup complete.
2021-01-21 10:46:31.822 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 10:46:35.428 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.014999866485595703
2021-01-21 11:37:40.253 INFO main - shutdown: Shutting down
2021-01-21 11:37:40.361 INFO on - shutdown: Waiting for application shutdown.
2021-01-21 11:37:40.363 ERROR qr_logger - log_warning: quitting the application now




2021-01-21 11:37:40.363 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-21 11:37:40.364 INFO on - shutdown: Application shutdown complete.
2021-01-21 11:37:40.365 INFO main - serve: Finished server process [17652]
2021-01-21 12:12:03.919 INFO main - serve: Started server process [24348]
2021-01-21 12:12:03.921 INFO on - startup: Waiting for application startup.
2021-01-21 12:12:03.923 INFO on - startup: Application startup complete.
2021-01-21 12:12:03.923 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-21 12:12:17.305 WARNING main - add_process_time_header: Path is: /docs
execution time is 0.008169412612915039
2021-01-21 12:12:19.235 WARNING main - add_process_time_header: Path is: /openapi.json
execution time is 0.043283700942993164
2021-01-21 12:12:33.684 WARNING main - add_process_time_header: Path is: /[object Module]
execution time is 0.008739948272705078
2021-01-21 12:12:46.824 WARNING main - add_process_time_header: Path is: /users/krishna
execution time is 0.03132271766662598
2021-01-22 10:37:22.494 INFO main - shutdown: Shutting down
2021-01-22 10:37:22.621 INFO on - shutdown: Waiting for application shutdown.
2021-01-22 10:37:22.628 ERROR qr_logger - log_warning: quitting the application now




2021-01-22 10:37:22.629 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-22 10:37:22.629 INFO on - shutdown: Application shutdown complete.
2021-01-22 10:37:22.630 INFO main - serve: Finished server process [24348]
2021-01-22 12:28:45.374 INFO main - serve: Started server process [17712]
2021-01-22 12:28:45.375 INFO on - startup: Waiting for application startup.
2021-01-22 12:28:45.376 INFO on - startup: Application startup complete.
2021-01-22 12:28:45.376 INFO main - startup: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:28:49.099 INFO main - shutdown: Shutting down
2021-01-22 12:28:49.201 INFO on - shutdown: Waiting for application shutdown.
2021-01-22 12:28:49.202 ERROR qr_logger - log_warning: quitting the application now




2021-01-22 12:28:49.203 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-22 12:28:49.207 INFO on - shutdown: Application shutdown complete.
2021-01-22 12:28:49.209 INFO main - serve: Finished server process [17712]
2021-01-22 12:38:56.219 WARNING main - run: You must pass the application as an import string to enable 'reload' or 'workers'.
2021-01-22 12:40:03.391 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:40:03.392 INFO basereload - startup: Started reloader process [16160] using statreload
2021-01-22 12:40:04.380 ERROR config - load: Error loading ASGI app. Import string "app" must be in format "<module>:<attribute>".
2021-01-22 12:40:08.537 INFO basereload - shutdown: Stopping reloader process [16160]
2021-01-22 12:40:18.441 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:40:18.442 INFO basereload - startup: Started reloader process [6792] using statreload
2021-01-22 12:40:19.477 INFO main - serve: Started server process [26532]
2021-01-22 12:40:19.478 INFO on - startup: Waiting for application startup.
2021-01-22 12:40:19.478 INFO on - startup: Application startup complete.
2021-01-22 12:40:27.166 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 154, in add_process_time_header
    start_time = time.time()
NameError: name 'time' is not defined
2021-01-22 12:40:43.374 WARNING statreload - should_restart: Detected file change in 'pilot.py'. Reloading...
2021-01-22 12:40:44.420 INFO main - serve: Started server process [19416]
2021-01-22 12:40:44.420 INFO on - startup: Waiting for application startup.
2021-01-22 12:40:44.421 INFO on - startup: Application startup complete.
2021-01-22 12:40:49.824 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.002996683120727539
2021-01-22 12:40:49.827 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 169, in add_process_time_header
    await get_request_data(request, response)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 123, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 34, in insert_request_response_data
    request_size = analysis_dict['request_size'], response_size = analysis_dict['response_size']/1024,
TypeError: unsupported operand type(s) for /: 'str' and 'int'
2021-01-22 12:42:01.921 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 12:42:02.982 INFO main - serve: Started server process [28432]
2021-01-22 12:42:02.982 INFO on - startup: Waiting for application startup.
2021-01-22 12:42:02.983 INFO on - startup: Application startup complete.
2021-01-22 12:42:09.583 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.005969047546386719
2021-01-22 12:42:09.809 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.01400446891784668
2021-01-22 12:42:14.702 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.004014730453491211
2021-01-22 12:43:03.315 INFO main - shutdown: Shutting down
2021-01-22 12:43:03.417 INFO main - shutdown: Waiting for connections to close. (CTRL+C to force quit)
2021-01-22 12:43:07.537 INFO main - serve: Finished server process [28432]
2021-01-22 12:43:07.657 INFO basereload - shutdown: Stopping reloader process [6792]
2021-01-22 12:43:12.821 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:43:12.822 INFO basereload - startup: Started reloader process [24444] using statreload
2021-01-22 12:43:13.818 INFO main - serve: Started server process [30652]
2021-01-22 12:43:13.819 INFO on - startup: Waiting for application startup.
2021-01-22 12:43:13.819 INFO on - startup: Application startup complete.
2021-01-22 12:43:17.306 ERROR main - create_user: email already registered for ravi@gmail.com
NoneType: None
2021-01-22 12:44:34.970 INFO main - shutdown: Shutting down
2021-01-22 12:44:35.072 INFO main - shutdown: Waiting for connections to close. (CTRL+C to force quit)
2021-01-22 12:44:36.378 INFO main - serve: Finished server process [30652]
2021-01-22 12:44:36.502 INFO basereload - shutdown: Stopping reloader process [24444]
2021-01-22 12:45:04.800 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:45:04.800 INFO basereload - startup: Started reloader process [17852] using statreload
2021-01-22 12:45:05.799 INFO main - serve: Started server process [16860]
2021-01-22 12:45:05.799 INFO on - startup: Waiting for application startup.
2021-01-22 12:45:05.800 INFO on - startup: Application startup complete.
2021-01-22 12:45:11.294 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.006998777389526367
2021-01-22 12:45:11.560 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.015011072158813477
2021-01-22 12:45:11.697 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0019991397857666016
2021-01-22 12:45:29.619 ERROR main - create_user: email already registered for ravi@gmail.com
NoneType: None
2021-01-22 12:46:33.977 INFO main - shutdown: Shutting down
2021-01-22 12:46:34.080 INFO main - shutdown: Waiting for connections to close. (CTRL+C to force quit)
2021-01-22 12:46:34.584 INFO main - serve: Finished server process [16860]
2021-01-22 12:46:34.698 INFO basereload - shutdown: Stopping reloader process [17852]
2021-01-22 12:46:53.686 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:46:53.686 INFO basereload - startup: Started reloader process [15108] using statreload
2021-01-22 12:46:54.735 INFO main - serve: Started server process [9384]
2021-01-22 12:46:54.736 INFO on - startup: Waiting for application startup.
2021-01-22 12:46:54.737 INFO on - startup: Application startup complete.
2021-01-22 12:48:26.791 INFO main - shutdown: Shutting down
2021-01-22 12:48:26.893 INFO main - shutdown: Waiting for connections to close. (CTRL+C to force quit)
2021-01-22 12:48:31.920 INFO main - serve: Finished server process [9384]
2021-01-22 12:48:32.029 INFO basereload - shutdown: Stopping reloader process [15108]
2021-01-22 12:48:35.632 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:48:35.633 INFO basereload - startup: Started reloader process [5328] using statreload
2021-01-22 12:48:36.703 INFO main - serve: Started server process [31112]
2021-01-22 12:48:36.704 INFO on - startup: Waiting for application startup.
2021-01-22 12:48:36.705 INFO on - startup: Application startup complete.
2021-01-22 12:48:43.680 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.0029997825622558594
2021-01-22 12:48:44.226 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.017998695373535156
2021-01-22 12:48:52.617 WARNING pilot - add_process_time_header: Path is: /users/
execution time is 0.008965730667114258
2021-01-22 12:49:01.812 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.003981113433837891
2021-01-22 12:49:02.049 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.005979061126708984
2021-01-22 12:49:07.166 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0030019283294677734
2021-01-22 12:49:15.830 WARNING pilot - add_process_time_header: Path is: /users/krishna
execution time is 0.011002302169799805
2021-01-22 12:49:20.916 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0040013790130615234
2021-01-22 12:50:40.945 INFO main - shutdown: Shutting down
2021-01-22 12:50:41.048 INFO main - shutdown: Waiting for connections to close. (CTRL+C to force quit)
2021-01-22 12:50:42.356 INFO main - serve: Finished server process [31112]
2021-01-22 12:50:42.461 INFO basereload - shutdown: Stopping reloader process [5328]
2021-01-22 12:52:19.382 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 12:52:19.383 INFO basereload - startup: Started reloader process [3108] using statreload
2021-01-22 12:52:20.439 INFO main - serve: Started server process [23716]
2021-01-22 12:52:20.440 INFO on - startup: Waiting for application startup.
2021-01-22 12:52:20.440 INFO on - startup: Application startup complete.
2021-01-22 12:52:28.690 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.012989521026611328
2021-01-22 12:52:28.693 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 169, in add_process_time_header
    await get_request_data(request, response)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 123, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 41, in insert_request_response_data
    db.add(analysis_data)
AttributeError: 'Depends' object has no attribute 'add'
2021-01-22 12:56:02.772 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.0029993057250976562
2021-01-22 12:56:02.775 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 169, in add_process_time_header
    await get_request_data(request, response)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 123, in get_request_data
    crud.insert_request_response_data(db, analysis_dict)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 41, in insert_request_response_data
    db.add(analysis_data)
AttributeError: 'Depends' object has no attribute 'add'
2021-01-22 12:56:14.593 WARNING statreload - should_restart: Detected file change in 'pilot.py'. Reloading...
2021-01-22 12:56:15.685 INFO main - serve: Started server process [8764]
2021-01-22 12:56:15.685 INFO on - startup: Waiting for application startup.
2021-01-22 12:56:15.686 INFO on - startup: Application startup complete.
2021-01-22 12:56:32.900 WARNING statreload - should_restart: Detected file change in 'pilot.py'. Reloading...
2021-01-22 12:56:33.952 INFO main - serve: Started server process [23772]
2021-01-22 12:56:33.953 INFO on - startup: Waiting for application startup.
2021-01-22 12:56:33.955 INFO on - startup: Application startup complete.
2021-01-22 12:56:38.948 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.011991500854492188
2021-01-22 12:57:13.826 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.014038324356079102
2021-01-22 12:57:51.494 WARNING pilot - add_process_time_header: Path is: /new_user
execution time is 0.0
2021-01-22 12:57:51.497 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 169, in add_process_time_header
    await get_request_data(request, response)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 107, in get_request_data
    analysis_dict['response_size'] = response.headers['content-length']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'content-length'
2021-01-22 12:57:57.842 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.0010221004486083984
2021-01-22 12:58:13.567 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 297, in enter_new_user
    return templates.TemplateResponse("signup.html", {"request": request})
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 80, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 67, in get_template
    return self.env.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 883, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 857, in _load_template
    template = self.loader.load(self, name, globals)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 197, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: signup.html
2021-01-22 12:59:02.504 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 12:59:03.581 INFO main - serve: Started server process [27708]
2021-01-22 12:59:03.582 INFO on - startup: Waiting for application startup.
2021-01-22 12:59:03.584 INFO on - startup: Application startup complete.
2021-01-22 12:59:08.836 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 233, in login_user_page
    return templates.TemplateResponse("login.html", {"request": request, "redirect":redirect_url})
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 80, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 67, in get_template
    return self.env.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 883, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 857, in _load_template
    template = self.loader.load(self, name, globals)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 197, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: login.html
2021-01-22 12:59:59.054 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:00:00.124 INFO main - serve: Started server process [3064]
2021-01-22 13:00:00.125 INFO on - startup: Waiting for application startup.
2021-01-22 13:00:00.129 INFO on - startup: Application startup complete.
2021-01-22 13:00:12.154 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 235, in login_user_page
    return templates.TemplateResponse("login.html", {"request": request, "redirect":redirect_url})
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 80, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 67, in get_template
    return self.env.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 883, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 857, in _load_template
    template = self.loader.load(self, name, globals)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 197, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: login.html
2021-01-22 13:00:53.885 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:00:54.902 INFO main - serve: Started server process [29328]
2021-01-22 13:00:54.902 INFO on - startup: Waiting for application startup.
2021-01-22 13:00:54.903 INFO on - startup: Application startup complete.
2021-01-22 13:01:12.250 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:01:13.338 INFO main - serve: Started server process [26336]
2021-01-22 13:01:13.339 INFO on - startup: Waiting for application startup.
2021-01-22 13:01:13.340 INFO on - startup: Application startup complete.
2021-01-22 13:01:16.830 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 237, in login_user_page
    return templates.TemplateResponse("login.html", {"request": request, "redirect":redirect_url})
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 80, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 67, in get_template
    return self.env.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 883, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 857, in _load_template
    template = self.loader.load(self, name, globals)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 197, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: login.html
2021-01-22 13:01:38.278 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:01:39.299 INFO main - serve: Started server process [9480]
2021-01-22 13:01:39.300 INFO on - startup: Waiting for application startup.
2021-01-22 13:01:39.301 INFO on - startup: Application startup complete.
2021-01-22 13:01:47.177 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 238, in login_user_page
    return templates.TemplateResponse("login.html", {"request": request, "redirect":redirect_url})
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 80, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 67, in get_template
    return self.env.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 883, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 857, in _load_template
    template = self.loader.load(self, name, globals)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 197, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: login.html
2021-01-22 13:02:28.183 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 302, in enter_new_user
    return templates.TemplateResponse("signup.html", {"request": request})
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 80, in TemplateResponse
    template = self.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 67, in get_template
    return self.env.get_template(name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 883, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\environment.py", line 857, in _load_template
    template = self.loader.load(self, name, globals)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\jinja2\loaders.py", line 197, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: signup.html
2021-01-22 13:03:04.574 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:03:05.661 INFO main - serve: Started server process [31324]
2021-01-22 13:03:05.662 INFO on - startup: Waiting for application startup.
2021-01-22 13:03:05.663 INFO on - startup: Application startup complete.
2021-01-22 13:03:38.504 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:03:39.549 INFO main - serve: Started server process [28964]
2021-01-22 13:03:39.550 INFO on - startup: Waiting for application startup.
2021-01-22 13:03:39.551 INFO on - startup: Application startup complete.
2021-01-22 13:05:28.066 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:05:29.082 INFO main - serve: Started server process [24524]
2021-01-22 13:05:29.082 INFO on - startup: Waiting for application startup.
2021-01-22 13:05:29.083 INFO on - startup: Application startup complete.
2021-01-22 13:05:33.781 WARNING pilot - add_process_time_header: Path is: /new_user_signup
execution time is 0.0020182132720947266
2021-01-22 13:05:39.658 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.005999565124511719
2021-01-22 13:07:25.528 WARNING pilot - add_process_time_header: Path is: /new_user_signup
execution time is 0.0010027885437011719
2021-01-22 13:07:39.091 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.0070340633392333984
2021-01-22 13:08:04.563 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 13:08:05.622 INFO main - serve: Started server process [5972]
2021-01-22 13:08:05.623 INFO on - startup: Waiting for application startup.
2021-01-22 13:08:05.623 INFO on - startup: Application startup complete.
2021-01-22 13:08:12.828 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.007009267807006836
2021-01-22 13:09:12.946 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:09:14.049 INFO main - serve: Started server process [15864]
2021-01-22 13:09:14.050 INFO on - startup: Waiting for application startup.
2021-01-22 13:09:14.050 INFO on - startup: Application startup complete.
2021-01-22 13:09:22.394 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.007571697235107422
2021-01-22 13:10:36.457 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:10:37.505 INFO main - serve: Started server process [12852]
2021-01-22 13:10:37.506 INFO on - startup: Waiting for application startup.
2021-01-22 13:10:37.507 INFO on - startup: Application startup complete.
2021-01-22 13:10:49.521 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 310, in newUser
    inserted_user = crud.create_user(user)
TypeError: create_user() missing 1 required positional argument: 'user'
2021-01-22 13:11:40.748 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:11:41.805 INFO main - serve: Started server process [19868]
2021-01-22 13:11:41.806 INFO on - startup: Waiting for application startup.
2021-01-22 13:11:41.807 INFO on - startup: Application startup complete.
2021-01-22 13:11:49.998 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 310, in newUser
    inserted_user = crud.create_user(user)
TypeError: create_user() missing 1 required positional argument: 'user'
2021-01-22 13:12:03.253 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:12:04.366 INFO main - serve: Started server process [31540]
2021-01-22 13:12:04.366 INFO on - startup: Waiting for application startup.
2021-01-22 13:12:04.367 INFO on - startup: Application startup complete.
2021-01-22 13:12:11.651 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.01903223991394043
2021-01-22 13:14:51.283 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:14:52.315 INFO main - serve: Started server process [29460]
2021-01-22 13:14:52.316 INFO on - startup: Waiting for application startup.
2021-01-22 13:14:52.317 INFO on - startup: Application startup complete.
2021-01-22 13:15:13.714 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 2.7695553302764893
2021-01-22 13:15:13.715 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 169, in add_process_time_header
    await get_request_data(request, response)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 107, in get_request_data
    analysis_dict['response_size'] = response.headers['content-length']
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 550, in __getitem__
    raise KeyError(key)
KeyError: 'content-length'
2021-01-22 13:16:16.216 WARNING statreload - should_restart: Detected file change in 'pilot.py'. Reloading...
2021-01-22 13:16:17.283 INFO main - serve: Started server process [29052]
2021-01-22 13:16:17.283 INFO on - startup: Waiting for application startup.
2021-01-22 13:16:17.284 INFO on - startup: Application startup complete.
2021-01-22 13:16:32.917 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.28203725814819336
2021-01-22 13:17:27.294 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:17:28.353 INFO main - serve: Started server process [28352]
2021-01-22 13:17:28.354 INFO on - startup: Waiting for application startup.
2021-01-22 13:17:28.354 INFO on - startup: Application startup complete.
2021-01-22 13:17:39.863 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.2749977111816406
2021-01-22 13:18:12.087 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:18:13.109 INFO main - serve: Started server process [1912]
2021-01-22 13:18:13.110 INFO on - startup: Waiting for application startup.
2021-01-22 13:18:13.112 INFO on - startup: Application startup complete.
2021-01-22 13:18:18.423 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:18:19.449 INFO main - serve: Started server process [5724]
2021-01-22 13:18:19.450 INFO on - startup: Waiting for application startup.
2021-01-22 13:18:19.450 INFO on - startup: Application startup complete.
2021-01-22 13:18:38.251 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.29602718353271484
2021-01-22 13:18:38.563 WARNING pilot - add_process_time_header: Path is: /api/v1/login
execution time is 0.0010867118835449219
2021-01-22 13:18:38.798 WARNING pilot - add_process_time_header: Path is: /favicon.ico
execution time is 0.0
2021-01-22 13:18:48.830 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.2460012435913086
2021-01-22 13:19:07.594 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.23103809356689453
2021-01-22 13:19:07.603 WARNING pilot - add_process_time_header: Path is: /api/v1/login
execution time is 0.0010042190551757812
2021-01-22 13:19:59.403 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:20:00.418 INFO main - serve: Started server process [28132]
2021-01-22 13:20:00.418 INFO on - startup: Waiting for application startup.
2021-01-22 13:20:00.419 INFO on - startup: Application startup complete.
2021-01-22 13:20:18.338 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.2680518627166748
2021-01-22 13:20:18.351 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.006041526794433594
2021-01-22 13:20:33.257 WARNING pilot - add_process_time_header: Path is: /api/v1/authenticate
execution time is 0.000997304916381836
2021-01-22 13:21:37.169 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.0040357112884521484
2021-01-22 13:21:44.551 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 259, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(formdata["username"],formdata["password"])
TypeError: authenticate_user_username_password() missing 1 required positional argument: 'password'
2021-01-22 13:27:52.339 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:27:53.432 INFO main - serve: Started server process [12268]
2021-01-22 13:27:53.433 INFO on - startup: Waiting for application startup.
2021-01-22 13:27:53.435 INFO on - startup: Application startup complete.
2021-01-22 13:27:56.080 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.005998134613037109
2021-01-22 13:28:01.701 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(formdata["username"],formdata["password"])
TypeError: authenticate_user_username_password() missing 1 required positional argument: 'password'
2021-01-22 13:28:51.973 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:29:02.367 INFO main - serve: Started server process [31252]
2021-01-22 13:29:02.368 INFO on - startup: Waiting for application startup.
2021-01-22 13:29:02.369 INFO on - startup: Application startup complete.
2021-01-22 13:29:07.687 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.005987405776977539
2021-01-22 13:29:14.775 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(db, formdata["username"],formdata["password"])
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 203, in authenticate_user_username_password
    get_my_details = get_user(db, user_name).first()
NameError: name 'user_name' is not defined
2021-01-22 13:29:40.623 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:29:41.666 INFO main - serve: Started server process [4424]
2021-01-22 13:29:41.667 INFO on - startup: Waiting for application startup.
2021-01-22 13:29:41.674 INFO on - startup: Application startup complete.
2021-01-22 13:31:39.382 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:31:40.419 INFO main - serve: Started server process [21360]
2021-01-22 13:31:40.419 INFO on - startup: Waiting for application startup.
2021-01-22 13:31:40.420 INFO on - startup: Application startup complete.
2021-01-22 13:31:43.260 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.007970809936523438
2021-01-22 13:31:50.844 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(db, formdata["username"],get_password_hash(formdata["password"]))
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 206, in authenticate_user_username_password
    my_username = get_my_details.username
AttributeError: 'Users' object has no attribute 'username'
2021-01-22 13:32:16.183 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:32:17.376 INFO main - serve: Started server process [27476]
2021-01-22 13:32:17.377 INFO on - startup: Waiting for application startup.
2021-01-22 13:32:17.378 INFO on - startup: Application startup complete.
2021-01-22 13:32:21.478 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(db, formdata["username"],get_password_hash(formdata["password"]))
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 212, in authenticate_user_username_password
    return HttpResponse(status=status.HTTP_500_NOT_FOUND, details='wrong password')
NameError: name 'HttpResponse' is not defined
2021-01-22 13:32:23.871 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.006970882415771484
2021-01-22 13:32:30.256 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(db, formdata["username"],get_password_hash(formdata["password"]))
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 212, in authenticate_user_username_password
    return HttpResponse(status=status.HTTP_500_NOT_FOUND, details='wrong password')
NameError: name 'HttpResponse' is not defined
2021-01-22 13:33:07.071 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:36:48.976 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:36:49.994 INFO main - serve: Started server process [12192]
2021-01-22 13:36:49.995 INFO on - startup: Waiting for application startup.
2021-01-22 13:36:49.995 INFO on - startup: Application startup complete.
2021-01-22 13:37:07.501 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:37:08.546 INFO main - serve: Started server process [9024]
2021-01-22 13:37:08.547 INFO on - startup: Waiting for application startup.
2021-01-22 13:37:08.547 INFO on - startup: Application startup complete.
2021-01-22 13:37:18.494 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.008976459503173828
2021-01-22 13:37:24.985 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = crud.authenticate_user_username_password(db, formdata["username"],get_password_hash(formdata["password"]))
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 214, in authenticate_user_username_password
    return HTTPException(status=status.HTTP_500_NOT_FOUND, details='wrong password')
AttributeError: module 'starlette.status' has no attribute 'HTTP_500_NOT_FOUND'
2021-01-22 13:38:53.106 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:38:54.198 INFO main - serve: Started server process [24308]
2021-01-22 13:38:54.198 INFO on - startup: Waiting for application startup.
2021-01-22 13:38:54.200 INFO on - startup: Application startup complete.
2021-01-22 13:40:29.847 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:40:30.888 INFO main - serve: Started server process [30580]
2021-01-22 13:40:30.889 INFO on - startup: Waiting for application startup.
2021-01-22 13:40:30.891 INFO on - startup: Application startup complete.
2021-01-22 13:40:55.195 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:40:56.263 INFO main - serve: Started server process [29484]
2021-01-22 13:40:56.263 INFO on - startup: Waiting for application startup.
2021-01-22 13:40:56.264 INFO on - startup: Application startup complete.
2021-01-22 13:41:17.546 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:41:18.590 INFO main - serve: Started server process [30472]
2021-01-22 13:41:18.591 INFO on - startup: Waiting for application startup.
2021-01-22 13:41:18.592 INFO on - startup: Application startup complete.
2021-01-22 13:41:23.190 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.0060367584228515625
2021-01-22 13:41:29.217 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 260, in check_user_and_make_token
    authenticated_user = authenticate_user(db, formdata["username"],get_password_hash(formdata["password"]))
  File "C:\Users\krish\Documents\QRmenu\security.py", line 195, in authenticate_user
    if not verify_password(password, user.password):
AttributeError: 'Query' object has no attribute 'password'
2021-01-22 13:42:00.622 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:42:01.653 INFO main - serve: Started server process [4692]
2021-01-22 13:42:01.654 INFO on - startup: Waiting for application startup.
2021-01-22 13:42:01.655 INFO on - startup: Application startup complete.
2021-01-22 13:42:16.238 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 13:42:17.297 INFO main - serve: Started server process [25396]
2021-01-22 13:42:17.298 INFO on - startup: Waiting for application startup.
2021-01-22 13:42:17.298 INFO on - startup: Application startup complete.
2021-01-22 13:42:28.638 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:42:29.680 INFO main - serve: Started server process [15256]
2021-01-22 13:42:29.680 INFO on - startup: Waiting for application startup.
2021-01-22 13:42:29.681 INFO on - startup: Application startup complete.
2021-01-22 13:42:33.165 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:42:34.236 INFO main - serve: Started server process [14392]
2021-01-22 13:42:34.236 INFO on - startup: Waiting for application startup.
2021-01-22 13:42:34.237 INFO on - startup: Application startup complete.
2021-01-22 13:42:38.481 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 266, in check_user_and_make_token
    access_token_expires = timedelta(hours=ACCESS_TOKEN_EXPIRE_HOURS)
NameError: name 'ACCESS_TOKEN_EXPIRE_HOURS' is not defined
2021-01-22 13:42:53.876 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:42:54.927 INFO main - serve: Started server process [28868]
2021-01-22 13:42:54.928 INFO on - startup: Waiting for application startup.
2021-01-22 13:42:54.928 INFO on - startup: Application startup complete.
2021-01-22 13:42:59.167 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 266, in check_user_and_make_token
    access_token_expires = timedelta(hours=ACCESS_TOKEN_EXPIRE_HOURS)
NameError: name 'ACCESS_TOKEN_EXPIRE_HOURS' is not defined
2021-01-22 13:43:51.523 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:43:52.633 INFO main - serve: Started server process [14664]
2021-01-22 13:43:52.634 INFO on - startup: Waiting for application startup.
2021-01-22 13:43:52.634 INFO on - startup: Application startup complete.
2021-01-22 13:43:56.517 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 271, in check_user_and_make_token
    data={"sub": authenticated_user['id']}, expires_delta=access_token_expires
TypeError: 'bool' object is not subscriptable
2021-01-22 13:45:36.921 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 13:45:37.943 INFO main - serve: Started server process [6572]
2021-01-22 13:45:37.944 INFO on - startup: Waiting for application startup.
2021-01-22 13:45:37.945 INFO on - startup: Application startup complete.
2021-01-22 13:45:42.685 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 272, in check_user_and_make_token
    data={"sub": authenticated_user['id']}, expires_delta=access_token_expires
TypeError: 'bool' object is not subscriptable
2021-01-22 14:51:57.811 WARNING pilot - add_process_time_header: Path is: /new_user_signup
execution time is 0.003034830093383789
2021-01-22 14:52:14.847 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.2450571060180664
2021-01-22 14:52:14.863 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.0050008296966552734
2021-01-22 14:52:25.043 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 272, in check_user_and_make_token
    data={"sub": authenticated_user['id']}, expires_delta=access_token_expires
TypeError: 'bool' object is not subscriptable
2021-01-22 14:54:36.778 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 14:54:37.970 INFO main - serve: Started server process [16356]
2021-01-22 14:54:37.970 INFO on - startup: Waiting for application startup.
2021-01-22 14:54:37.974 INFO on - startup: Application startup complete.
2021-01-22 14:54:41.192 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 272, in check_user_and_make_token
    data={"sub": authenticated_user['id']}, expires_delta=access_token_expires
TypeError: 'Users' object is not subscriptable
2021-01-22 14:55:52.743 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 14:55:53.792 INFO main - serve: Started server process [6676]
2021-01-22 14:55:53.792 INFO on - startup: Waiting for application startup.
2021-01-22 14:55:53.793 INFO on - startup: Application startup complete.
2021-01-22 14:55:56.402 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.005044221878051758
2021-01-22 14:56:04.725 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 282, in check_user_and_make_token
    key=COOKIE_AUTHORIZATION_NAME,
NameError: name 'COOKIE_AUTHORIZATION_NAME' is not defined
2021-01-22 14:57:18.488 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 14:57:19.529 INFO main - serve: Started server process [3600]
2021-01-22 14:57:19.530 INFO on - startup: Waiting for application startup.
2021-01-22 14:57:19.531 INFO on - startup: Application startup complete.
2021-01-22 14:57:20.340 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 14:57:21.378 INFO main - serve: Started server process [27484]
2021-01-22 14:57:21.379 INFO on - startup: Waiting for application startup.
2021-01-22 14:57:21.380 INFO on - startup: Application startup complete.
2021-01-22 14:57:21.935 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 14:57:23.005 INFO main - serve: Started server process [19968]
2021-01-22 14:57:23.005 INFO on - startup: Waiting for application startup.
2021-01-22 14:57:23.006 INFO on - startup: Application startup complete.
2021-01-22 14:57:26.610 WARNING pilot - add_process_time_header: Path is: /authenticate
execution time is 0.2570488452911377
2021-01-22 14:57:26.633 WARNING pilot - add_process_time_header: Path is: /users//
execution time is 0.0
2021-01-22 14:57:26.642 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.0009951591491699219
2021-01-22 14:59:24.687 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 14:59:25.760 INFO main - serve: Started server process [26984]
2021-01-22 14:59:25.761 INFO on - startup: Waiting for application startup.
2021-01-22 14:59:25.761 INFO on - startup: Application startup complete.
2021-01-22 14:59:45.173 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 14:59:46.242 INFO main - serve: Started server process [4832]
2021-01-22 14:59:46.243 INFO on - startup: Waiting for application startup.
2021-01-22 14:59:46.244 INFO on - startup: Application startup complete.
2021-01-22 15:00:25.657 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 15:00:26.694 INFO main - serve: Started server process [29504]
2021-01-22 15:00:26.695 INFO on - startup: Waiting for application startup.
2021-01-22 15:00:26.695 INFO on - startup: Application startup complete.
2021-01-22 15:00:28.064 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 15:00:29.133 INFO main - serve: Started server process [29004]
2021-01-22 15:00:29.134 INFO on - startup: Waiting for application startup.
2021-01-22 15:00:29.136 INFO on - startup: Application startup complete.
2021-01-22 15:00:32.917 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:00:34.013 INFO main - serve: Started server process [13808]
2021-01-22 15:00:34.014 INFO on - startup: Waiting for application startup.
2021-01-22 15:00:34.014 INFO on - startup: Application startup complete.
2021-01-22 15:00:38.718 WARNING pilot - add_process_time_header: Path is: /userbase
execution time is 0.015996456146240234
2021-01-22 15:02:12.505 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:02:13.545 INFO main - serve: Started server process [28652]
2021-01-22 15:02:13.545 INFO on - startup: Waiting for application startup.
2021-01-22 15:02:13.546 INFO on - startup: Application startup complete.
2021-01-22 15:02:16.985 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 309, in get_mine
    return current_user.__dict__
AttributeError: 'NoneType' object has no attribute '__dict__'
2021-01-22 15:03:18.007 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:03:19.113 INFO main - serve: Started server process [16068]
2021-01-22 15:03:19.113 INFO on - startup: Waiting for application startup.
2021-01-22 15:03:19.114 INFO on - startup: Application startup complete.
2021-01-22 15:03:27.163 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 310, in get_mine
    return current_user.__dict__
AttributeError: 'NoneType' object has no attribute '__dict__'
2021-01-22 15:03:43.357 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.0060346126556396484
2021-01-22 15:03:52.445 WARNING pilot - add_process_time_header: Path is: /authenticate
execution time is 0.2590007781982422
2021-01-22 15:03:52.469 WARNING pilot - add_process_time_header: Path is: /userbase/
execution time is 0.0
2021-01-22 15:03:52.480 WARNING pilot - add_process_time_header: Path is: /userbase
execution time is 0.003008604049682617
2021-01-22 15:03:56.621 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 310, in get_mine
    return current_user.__dict__
AttributeError: 'NoneType' object has no attribute '__dict__'
2021-01-22 15:04:18.580 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:04:19.654 INFO main - serve: Started server process [28260]
2021-01-22 15:04:19.654 INFO on - startup: Waiting for application startup.
2021-01-22 15:04:19.655 INFO on - startup: Application startup complete.
2021-01-22 15:04:35.736 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:04:36.805 INFO main - serve: Started server process [28196]
2021-01-22 15:04:36.806 INFO on - startup: Waiting for application startup.
2021-01-22 15:04:36.807 INFO on - startup: Application startup complete.
2021-01-22 15:04:40.519 WARNING pilot - add_process_time_header: Path is: /me
execution time is 0.004034519195556641
2021-01-22 15:06:17.462 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:06:18.476 INFO main - serve: Started server process [26352]
2021-01-22 15:06:18.477 INFO on - startup: Waiting for application startup.
2021-01-22 15:06:18.477 INFO on - startup: Application startup complete.
2021-01-22 15:06:42.465 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:06:43.488 INFO main - serve: Started server process [6684]
2021-01-22 15:06:43.488 INFO on - startup: Waiting for application startup.
2021-01-22 15:06:43.489 INFO on - startup: Application startup complete.
2021-01-22 15:07:50.842 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:07:51.925 INFO main - serve: Started server process [31512]
2021-01-22 15:07:51.926 INFO on - startup: Waiting for application startup.
2021-01-22 15:07:51.926 INFO on - startup: Application startup complete.
2021-01-22 15:08:11.145 WARNING pilot - add_process_time_header: Path is: /me
execution time is 0.004000425338745117
2021-01-22 15:08:37.459 WARNING pilot - add_process_time_header: Path is: /me
execution time is 0.0019989013671875
2021-01-22 15:08:55.749 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.007999897003173828
2021-01-22 15:09:23.825 WARNING pilot - add_process_time_header: Path is: /authenticate
execution time is 0.26204752922058105
2021-01-22 15:09:23.854 WARNING pilot - add_process_time_header: Path is: /userbase/
execution time is 0.0010101795196533203
2021-01-22 15:09:23.868 WARNING pilot - add_process_time_header: Path is: /userbase
execution time is 0.0039713382720947266
2021-01-22 15:09:34.095 WARNING pilot - add_process_time_header: Path is: /me
execution time is 0.006999492645263672
2021-01-22 15:10:37.530 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:11:04.366 INFO main - serve: Started server process [12316]
2021-01-22 15:11:04.366 INFO on - startup: Waiting for application startup.
2021-01-22 15:11:04.368 INFO on - startup: Application startup complete.
2021-01-22 15:11:10.186 WARNING pilot - add_process_time_header: Path is: /me
execution time is 0.004003047943115234
2021-01-22 15:11:16.878 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.00500178337097168
2021-01-22 15:11:25.461 WARNING pilot - add_process_time_header: Path is: /authenticate
execution time is 0.26603174209594727
2021-01-22 15:11:25.493 WARNING pilot - add_process_time_header: Path is: /userbase/
execution time is 0.0
2021-01-22 15:11:25.508 WARNING pilot - add_process_time_header: Path is: /userbase
execution time is 0.005037069320678711
2021-01-22 15:12:53.592 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.0019741058349609375
2021-01-22 15:13:12.102 WARNING pilot - add_process_time_header: Path is: /authenticate
execution time is 0.22700023651123047
2021-01-22 15:13:12.116 WARNING pilot - add_process_time_header: Path is: /userbase/
execution time is 0.0010020732879638672
2021-01-22 15:13:12.127 WARNING pilot - add_process_time_header: Path is: /userbase
execution time is 0.0030257701873779297
2021-01-22 15:13:41.009 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:13:42.126 INFO main - serve: Started server process [27740]
2021-01-22 15:13:42.127 INFO on - startup: Waiting for application startup.
2021-01-22 15:13:42.127 INFO on - startup: Application startup complete.
2021-01-22 15:13:48.678 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.005526542663574219
2021-01-22 15:13:57.701 WARNING pilot - add_process_time_header: Path is: /authenticate
execution time is 0.25800347328186035
2021-01-22 15:13:57.727 WARNING pilot - add_process_time_header: Path is: /userbase/
execution time is 0.0
2021-01-22 15:13:57.740 WARNING pilot - add_process_time_header: Path is: /userbase
execution time is 0.0030291080474853516
2021-01-22 15:15:35.207 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 15:15:36.259 INFO main - serve: Started server process [25396]
2021-01-22 15:15:36.260 INFO on - startup: Waiting for application startup.
2021-01-22 15:15:36.261 INFO on - startup: Application startup complete.
2021-01-22 15:15:42.961 WARNING pilot - add_process_time_header: Path is: /logout
execution time is 0.0040035247802734375
2021-01-22 15:15:42.975 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.005035400390625
2021-01-22 15:27:12.116 INFO main - shutdown: Shutting down
2021-01-22 15:27:12.217 INFO on - shutdown: Waiting for application shutdown.
2021-01-22 15:27:12.218 ERROR qr_logger - log_warning: quitting the application now




2021-01-22 15:27:12.219 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-22 15:27:12.221 INFO on - shutdown: Application shutdown complete.
2021-01-22 15:27:12.223 INFO main - serve: Finished server process [25396]
2021-01-22 15:27:12.473 INFO basereload - shutdown: Stopping reloader process [3108]
2021-01-22 16:23:08.533 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 16:23:08.535 INFO basereload - startup: Started reloader process [21260] using statreload
2021-01-22 16:23:12.706 INFO main - serve: Started server process [10104]
2021-01-22 16:23:12.709 INFO on - startup: Waiting for application startup.
2021-01-22 16:23:12.714 INFO on - startup: Application startup complete.
2021-01-22 16:23:28.735 WARNING pilot - add_process_time_header: Path is: /hotels/madhapur
execution time is 0.0010006427764892578
2021-01-22 16:23:51.249 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 16:23:55.833 INFO main - serve: Started server process [2504]
2021-01-22 16:23:55.835 INFO on - startup: Waiting for application startup.
2021-01-22 16:23:55.845 INFO on - startup: Application startup complete.
2021-01-22 16:24:04.445 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.0007104873657226562
2021-01-22 16:24:05.613 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.06961441040039062
2021-01-22 16:24:13.939 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0009992122650146484
2021-01-22 16:24:42.426 INFO main - shutdown: Shutting down
2021-01-22 16:24:42.527 INFO on - shutdown: Waiting for application shutdown.
2021-01-22 16:24:42.528 ERROR qr_logger - log_warning: quitting the application now




2021-01-22 16:24:42.528 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-22 16:24:42.530 INFO on - shutdown: Application shutdown complete.
2021-01-22 16:24:42.532 INFO main - serve: Finished server process [2504]
2021-01-22 16:24:42.740 INFO basereload - shutdown: Stopping reloader process [21260]
2021-01-22 16:24:48.736 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 16:24:48.738 INFO basereload - startup: Started reloader process [23404] using statreload
2021-01-22 16:24:52.538 INFO main - serve: Started server process [7900]
2021-01-22 16:24:52.539 INFO on - startup: Waiting for application startup.
2021-01-22 16:24:52.544 INFO on - startup: Application startup complete.
2021-01-22 16:25:00.803 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 16:25:05.647 INFO main - serve: Started server process [7964]
2021-01-22 16:25:05.649 INFO on - startup: Waiting for application startup.
2021-01-22 16:25:05.650 INFO on - startup: Application startup complete.
2021-01-22 16:25:06.049 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.0012710094451904297
2021-01-22 16:25:07.054 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.07278180122375488
2021-01-22 16:25:10.240 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0009989738464355469
2021-01-22 16:25:17.112 WARNING pilot - add_process_time_header: Path is: /hotels/madhapur
execution time is 0.05831503868103027
2021-01-22 16:25:26.816 WARNING pilot - add_process_time_header: Path is: /hotels/Madhapur
execution time is 0.007724285125732422
2021-01-22 16:25:38.026 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 16:25:42.452 INFO main - serve: Started server process [29752]
2021-01-22 16:25:42.455 INFO on - startup: Waiting for application startup.
2021-01-22 16:25:42.458 INFO on - startup: Application startup complete.
2021-01-22 16:28:09.271 WARNING statreload - should_restart: Detected file change in 'main.py'. Reloading...
2021-01-22 16:28:13.934 INFO main - serve: Started server process [29828]
2021-01-22 16:28:13.936 INFO on - startup: Waiting for application startup.
2021-01-22 16:28:13.943 INFO on - startup: Application startup complete.
2021-01-22 16:28:54.412 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:28:59.223 INFO main - serve: Started server process [11572]
2021-01-22 16:28:59.225 INFO on - startup: Waiting for application startup.
2021-01-22 16:28:59.228 INFO on - startup: Application startup complete.
2021-01-22 16:29:03.298 WARNING pilot - add_process_time_header: Path is: /hotels/Madhapur
execution time is 0.08939719200134277
2021-01-22 16:29:08.847 WARNING pilot - add_process_time_header: Path is: /hotels/madhapur
execution time is 0.018147945404052734
2021-01-22 16:30:50.918 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:30:55.409 INFO main - serve: Started server process [6488]
2021-01-22 16:30:55.412 INFO on - startup: Waiting for application startup.
2021-01-22 16:30:55.414 INFO on - startup: Application startup complete.
2021-01-22 16:31:03.757 WARNING pilot - add_process_time_header: Path is: /hotels/madhapur
execution time is 0.0838003158569336
2021-01-22 16:36:10.647 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:36:15.758 INFO main - serve: Started server process [26896]
2021-01-22 16:36:15.760 INFO on - startup: Waiting for application startup.
2021-01-22 16:36:15.764 INFO on - startup: Application startup complete.
2021-01-22 16:36:39.286 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:36:44.566 INFO main - serve: Started server process [3332]
2021-01-22 16:36:44.567 INFO on - startup: Waiting for application startup.
2021-01-22 16:36:44.571 INFO on - startup: Application startup complete.
2021-01-22 16:38:08.441 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:38:13.004 INFO main - serve: Started server process [9828]
2021-01-22 16:38:13.006 INFO on - startup: Waiting for application startup.
2021-01-22 16:38:13.009 INFO on - startup: Application startup complete.
2021-01-22 16:38:18.111 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\main.py", line 151, in get_hotels_of_given_location
    details = crud.get_hotels_of_given_location(db=db, location=location)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 107, in get_hotels_of_given_location
    hotels = db.query(models.Hotels, models.Menu).join(models.Menu).options(load_only(Hotels.name, Hotels.contact_email, Hotels.location, Hotels.city, Menu.items, Menu.qr_menu_path)).filter(or_(models.Hotels.location == location, models.Hotels.city == location)).all()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\query.py", line 1347, in options
    return self._options(False, *args)
  File "<string>", line 2, in _options
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\base.py", line 201, in generate
    fn(self, *args[1:], **kw)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\query.py", line 1364, in _options
    opt.process_query(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 136, in process_query
    self._process(query, True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 457, in _process
    query._current_path, query._attributes, raiseerr)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 587, in _bind_loader
    entities, token, raiseerr)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 688, in _find_entity_basestring
    "Wildcard loader can only be used with exactly "
sqlalchemy.exc.ArgumentError: Wildcard loader can only be used with exactly one entity.  Use Load(ent) to specify specific entities.
2021-01-22 16:40:54.125 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:40:58.884 INFO main - serve: Started server process [20384]
2021-01-22 16:40:58.886 INFO on - startup: Waiting for application startup.
2021-01-22 16:40:58.888 INFO on - startup: Application startup complete.
2021-01-22 16:41:03.890 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\main.py", line 151, in get_hotels_of_given_location
    details = crud.get_hotels_of_given_location(db=db, location=location)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 107, in get_hotels_of_given_location
    hotels = db.query(models.Hotels, models.Menu).filter(or_(models.Hotels.location == location, models.Hotels.city == location)).join(models.Menu).with_entities(SomeModel.col1, SomeModel.col2,Hotels.name, Hotels.contact_email, Hotels.location, Hotels.city, Menu.items, Menu.qr_menu_path).all()
NameError: name 'SomeModel' is not defined
2021-01-22 16:41:37.195 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:41:38.097 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:41:42.849 INFO main - serve: Started server process [4776]
2021-01-22 16:41:42.851 INFO on - startup: Waiting for application startup.
2021-01-22 16:41:42.855 INFO on - startup: Application startup complete.
2021-01-22 16:41:46.115 WARNING pilot - add_process_time_header: Path is: /hotels/madhapur
execution time is 0.05966830253601074
2021-01-22 16:43:00.129 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:43:05.048 INFO main - serve: Started server process [15752]
2021-01-22 16:43:05.050 INFO on - startup: Waiting for application startup.
2021-01-22 16:43:05.053 INFO on - startup: Application startup complete.
2021-01-22 16:43:08.794 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\main.py", line 151, in get_hotels_of_given_location
    details = crud.get_hotels_of_given_location(db=db, location=location)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 107, in get_hotels_of_given_location
    hotels = db.query(models.Hotels, models.Menu).join(models.Menu).options(load_only(Hotels.name, Hotels.contact_email, Hotels.location, Hotels.city, Menu.items, Menu.qr)).filter(or_(models.Hotels.location == location, models.Hotels.city == location)).all()
AttributeError: type object 'Menu' has no attribute 'qr'
2021-01-22 16:43:25.630 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:43:30.199 INFO main - serve: Started server process [26788]
2021-01-22 16:43:30.202 INFO on - startup: Waiting for application startup.
2021-01-22 16:43:30.207 INFO on - startup: Application startup complete.
2021-01-22 16:43:32.129 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\main.py", line 151, in get_hotels_of_given_location
    details = crud.get_hotels_of_given_location(db=db, location=location)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 107, in get_hotels_of_given_location
    hotels = db.query(models.Hotels, models.Menu).join(models.Menu).options(load_only(Hotels.name, Hotels.contact_email, Hotels.location, Hotels.city, Menu.items, Menu.qr_menu_path)).filter(or_(models.Hotels.location == location, models.Hotels.city == location)).all()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\query.py", line 1347, in options
    return self._options(False, *args)
  File "<string>", line 2, in _options
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\base.py", line 201, in generate
    fn(self, *args[1:], **kw)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\query.py", line 1364, in _options
    opt.process_query(self)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 136, in process_query
    self._process(query, True)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 457, in _process
    query._current_path, query._attributes, raiseerr)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 587, in _bind_loader
    entities, token, raiseerr)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\sqlalchemy\orm\strategy_options.py", line 688, in _find_entity_basestring
    "Wildcard loader can only be used with exactly "
sqlalchemy.exc.ArgumentError: Wildcard loader can only be used with exactly one entity.  Use Load(ent) to specify specific entities.
2021-01-22 16:43:57.489 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:44:01.991 INFO main - serve: Started server process [28964]
2021-01-22 16:44:01.993 INFO on - startup: Waiting for application startup.
2021-01-22 16:44:01.996 INFO on - startup: Application startup complete.
2021-01-22 16:50:14.952 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 16:50:19.563 INFO main - serve: Started server process [11860]
2021-01-22 16:50:19.565 INFO on - startup: Waiting for application startup.
2021-01-22 16:50:19.566 INFO on - startup: Application startup complete.
2021-01-22 16:57:07.457 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 16:57:10.235 WARNING statreload - should_restart: Detected file change in 'models.py'. Reloading...
2021-01-22 16:57:14.258 INFO main - serve: Started server process [9632]
2021-01-22 16:57:14.261 INFO on - startup: Waiting for application startup.
2021-01-22 16:57:14.264 INFO on - startup: Application startup complete.
2021-01-22 17:02:12.160 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 17:16:02.064 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 17:16:22.703 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 17:17:53.713 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 17:18:26.248 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 17:18:40.241 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 17:18:44.429 INFO main - serve: Started server process [15564]
2021-01-22 17:18:44.431 INFO on - startup: Waiting for application startup.
2021-01-22 17:18:44.434 INFO on - startup: Application startup complete.
2021-01-22 17:20:35.805 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 17:20:40.493 INFO main - serve: Started server process [24832]
2021-01-22 17:20:40.495 INFO on - startup: Waiting for application startup.
2021-01-22 17:20:40.498 INFO on - startup: Application startup complete.
2021-01-22 17:20:48.110 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 17:20:52.121 WARNING statreload - should_restart: Detected file change in 'pilot.py'. Reloading...
2021-01-22 17:20:57.211 INFO main - serve: Started server process [13924]
2021-01-22 17:20:57.213 INFO on - startup: Waiting for application startup.
2021-01-22 17:20:57.216 INFO on - startup: Application startup complete.
2021-01-22 17:25:00.058 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 17:25:05.010 INFO main - serve: Started server process [30052]
2021-01-22 17:25:05.012 INFO on - startup: Waiting for application startup.
2021-01-22 17:25:05.016 INFO on - startup: Application startup complete.
2021-01-22 17:25:54.201 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:16:49.605 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:21:22.826 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:22:02.637 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:22:20.935 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:22:21.986 INFO main - serve: Started server process [29864]
2021-01-22 18:22:21.987 INFO on - startup: Waiting for application startup.
2021-01-22 18:22:21.988 INFO on - startup: Application startup complete.
2021-01-22 18:22:29.330 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.0
2021-01-22 18:22:29.626 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.014000415802001953
2021-01-22 18:22:29.819 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0009963512420654297
2021-01-22 18:22:39.984 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.001001119613647461
2021-01-22 18:22:59.415 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.003042936325073242
2021-01-22 18:23:40.028 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:23:41.046 INFO main - serve: Started server process [25076]
2021-01-22 18:23:41.046 INFO on - startup: Waiting for application startup.
2021-01-22 18:23:41.046 INFO on - startup: Application startup complete.
2021-01-22 18:23:56.273 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:23:57.316 INFO main - serve: Started server process [29872]
2021-01-22 18:23:57.316 INFO on - startup: Waiting for application startup.
2021-01-22 18:23:57.317 INFO on - startup: Application startup complete.
2021-01-22 18:24:17.063 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:24:18.086 INFO main - serve: Started server process [27856]
2021-01-22 18:24:18.087 INFO on - startup: Waiting for application startup.
2021-01-22 18:24:18.087 INFO on - startup: Application startup complete.
2021-01-22 18:24:36.037 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0059969425201416016
2021-01-22 18:24:44.991 WARNING pilot - add_process_time_header: Path is: /api/v1/update_user_password
execution time is 0.0
2021-01-22 18:25:15.989 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0009963512420654297
2021-01-22 18:25:23.310 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.003000974655151367
2021-01-22 18:25:50.346 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0010347366333007812
2021-01-22 18:25:57.627 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.0009975433349609375
2021-01-22 18:27:26.143 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:27:27.232 INFO main - serve: Started server process [22840]
2021-01-22 18:27:27.232 INFO on - startup: Waiting for application startup.
2021-01-22 18:27:27.234 INFO on - startup: Application startup complete.
2021-01-22 18:27:33.935 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:27:34.979 INFO main - serve: Started server process [24292]
2021-01-22 18:27:34.980 INFO on - startup: Waiting for application startup.
2021-01-22 18:27:34.981 INFO on - startup: Application startup complete.
2021-01-22 18:27:40.157 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.002022981643676758
2021-01-22 18:27:47.063 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.0029926300048828125
2021-01-22 18:29:19.989 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:29:21.063 INFO main - serve: Started server process [5724]
2021-01-22 18:29:21.064 INFO on - startup: Waiting for application startup.
2021-01-22 18:29:21.065 INFO on - startup: Application startup complete.
2021-01-22 18:30:07.852 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:30:08.907 INFO main - serve: Started server process [6432]
2021-01-22 18:30:08.907 INFO on - startup: Waiting for application startup.
2021-01-22 18:30:08.908 INFO on - startup: Application startup complete.
2021-01-22 18:30:16.504 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.0019936561584472656
2021-01-22 18:39:49.179 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:39:50.232 INFO main - serve: Started server process [29452]
2021-01-22 18:39:50.232 INFO on - startup: Waiting for application startup.
2021-01-22 18:39:50.233 INFO on - startup: Application startup complete.
2021-01-22 18:40:55.182 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.003962993621826172
2021-01-22 18:41:01.103 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\dependencies\utils.py", line 550, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\schemas.py", line 134, in __init__
    super.__init__(password1, password2)
TypeError: descriptor '__init__' requires a 'super' object but received a 'str'
2021-01-22 18:41:22.542 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:41:23.583 INFO main - serve: Started server process [30848]
2021-01-22 18:41:23.583 INFO on - startup: Waiting for application startup.
2021-01-22 18:41:23.584 INFO on - startup: Application startup complete.
2021-01-22 18:41:34.024 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\dependencies\utils.py", line 550, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\schemas.py", line 134, in __init__
    super().__init__(password1, password2)
  File "pydantic\main.py", line 334, in pydantic.main.BaseModel.__init__
TypeError: __init__() takes exactly 1 positional argument (3 given)
2021-01-22 18:43:10.340 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:43:11.439 INFO main - serve: Started server process [27344]
2021-01-22 18:43:11.440 INFO on - startup: Waiting for application startup.
2021-01-22 18:43:11.440 INFO on - startup: Application startup complete.
2021-01-22 18:43:18.257 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0040378570556640625
2021-01-22 18:43:23.812 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\dependencies\utils.py", line 550, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\schemas.py", line 134, in __init__
    super().__init__(password1, password2)
  File "pydantic\main.py", line 334, in pydantic.main.BaseModel.__init__
TypeError: __init__() takes exactly 1 positional argument (3 given)
2021-01-22 18:48:20.026 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:49:03.777 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:51:45.258 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:51:46.332 INFO main - serve: Started server process [31452]
2021-01-22 18:51:46.333 INFO on - startup: Waiting for application startup.
2021-01-22 18:51:46.333 INFO on - startup: Application startup complete.
2021-01-22 18:51:46.337 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.003031492233276367
2021-01-22 18:53:20.012 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:53:21.087 INFO main - serve: Started server process [20340]
2021-01-22 18:53:21.088 INFO on - startup: Waiting for application startup.
2021-01-22 18:53:21.089 INFO on - startup: Application startup complete.
2021-01-22 18:54:03.540 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-22 18:54:04.583 INFO main - serve: Started server process [17940]
2021-01-22 18:54:04.583 INFO on - startup: Waiting for application startup.
2021-01-22 18:54:04.584 INFO on - startup: Application startup complete.
2021-01-22 18:54:10.516 INFO main - shutdown: Shutting down
2021-01-22 18:54:10.618 INFO on - shutdown: Waiting for application shutdown.
2021-01-22 18:54:10.618 ERROR qr_logger - log_warning: quitting the application now




2021-01-22 18:54:10.618 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-22 18:54:10.619 INFO on - shutdown: Application shutdown complete.
2021-01-22 18:54:10.623 INFO main - serve: Finished server process [17940]
2021-01-22 18:54:10.724 INFO basereload - shutdown: Stopping reloader process [23404]
2021-01-22 18:54:13.884 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 18:54:13.885 INFO basereload - startup: Started reloader process [12892] using statreload
2021-01-22 18:54:14.881 INFO main - serve: Started server process [22136]
2021-01-22 18:54:14.882 INFO on - startup: Waiting for application startup.
2021-01-22 18:54:14.886 INFO on - startup: Application startup complete.
2021-01-22 18:54:20.623 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0020356178283691406
2021-01-22 18:54:29.728 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 534, in update_password
    update_result = crud.update_user_password(db, "k@gmail.com", new_password_schema)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 240, in update_user_password
    details = db.query(models.Users).filter(Users.email == Email).update({'password': new_password_schema.password})
AttributeError: 'NewPassword' object has no attribute 'password'
2021-01-22 18:55:40.217 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 18:55:41.245 INFO main - serve: Started server process [31232]
2021-01-22 18:55:41.246 INFO on - startup: Waiting for application startup.
2021-01-22 18:55:41.246 INFO on - startup: Application startup complete.
2021-01-22 18:55:47.583 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 18:55:48.619 INFO main - serve: Started server process [3188]
2021-01-22 18:55:48.619 INFO on - startup: Waiting for application startup.
2021-01-22 18:55:48.619 INFO on - startup: Application startup complete.
2021-01-22 18:55:58.378 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 534, in update_password
    update_result = crud.update_user_password(db, "k@gmail.com", new_password_schema)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 241, in update_user_password
    details.commit()
AttributeError: 'int' object has no attribute 'commit'
2021-01-22 18:56:11.353 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 18:56:12.395 INFO main - serve: Started server process [27708]
2021-01-22 18:56:12.396 INFO on - startup: Waiting for application startup.
2021-01-22 18:56:12.396 INFO on - startup: Application startup complete.
2021-01-22 18:56:22.647 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.0169980525970459
2021-01-22 18:57:10.514 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:57:11.532 INFO main - serve: Started server process [28124]
2021-01-22 18:57:11.532 INFO on - startup: Waiting for application startup.
2021-01-22 18:57:11.533 INFO on - startup: Application startup complete.
2021-01-22 18:57:15.077 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:57:16.102 INFO main - serve: Started server process [30648]
2021-01-22 18:57:16.103 INFO on - startup: Waiting for application startup.
2021-01-22 18:57:16.104 INFO on - startup: Application startup complete.
2021-01-22 18:57:27.749 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 18:57:28.838 INFO main - serve: Started server process [31116]
2021-01-22 18:57:28.839 INFO on - startup: Waiting for application startup.
2021-01-22 18:57:28.840 INFO on - startup: Application startup complete.
2021-01-22 18:57:42.194 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 535, in update_password
    update_result = crud.update_user_password(db, "k@gmail.com", password)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 240, in update_user_password
    details = db.query(models.Users).filter(Users.email == Email).update({'password': password})
NameError: name 'password' is not defined
2021-01-22 18:57:58.883 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 18:57:59.973 INFO main - serve: Started server process [24488]
2021-01-22 18:57:59.974 INFO on - startup: Waiting for application startup.
2021-01-22 18:57:59.975 INFO on - startup: Application startup complete.
2021-01-22 18:58:10.965 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.26503491401672363
2021-01-22 18:58:29.945 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 18:58:30.975 INFO main - serve: Started server process [25340]
2021-01-22 18:58:30.976 INFO on - startup: Waiting for application startup.
2021-01-22 18:58:30.977 INFO on - startup: Application startup complete.
2021-01-22 18:58:41.449 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.26117444038391113
2021-01-22 18:59:04.380 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 18:59:05.426 INFO main - serve: Started server process [4424]
2021-01-22 18:59:05.426 INFO on - startup: Waiting for application startup.
2021-01-22 18:59:05.427 INFO on - startup: Application startup complete.
2021-01-22 18:59:17.546 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.2610759735107422
2021-01-22 19:00:13.007 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 19:00:14.067 INFO main - serve: Started server process [18976]
2021-01-22 19:00:14.067 INFO on - startup: Waiting for application startup.
2021-01-22 19:00:14.068 INFO on - startup: Application startup complete.
2021-01-22 19:00:31.121 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:00:32.156 INFO main - serve: Started server process [18824]
2021-01-22 19:00:32.157 INFO on - startup: Waiting for application startup.
2021-01-22 19:00:32.158 INFO on - startup: Application startup complete.
2021-01-22 19:00:41.800 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.2611989974975586
2021-01-22 19:07:28.236 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:07:29.301 INFO main - serve: Started server process [22048]
2021-01-22 19:07:29.302 INFO on - startup: Waiting for application startup.
2021-01-22 19:07:29.302 INFO on - startup: Application startup complete.
2021-01-22 19:08:09.305 WARNING pilot - add_process_time_header: Path is: /enter_recovery_email
execution time is 0.001997709274291992
2021-01-22 19:08:25.161 WARNING pilot - add_process_time_header: Path is: /new_user_signup
execution time is 0.0020341873168945312
2021-01-22 19:08:34.771 WARNING pilot - add_process_time_header: Path is: /new_user/
execution time is 0.26900243759155273
2021-01-22 19:08:34.783 WARNING pilot - add_process_time_header: Path is: /login
execution time is 0.004024028778076172
2021-01-22 19:08:38.799 WARNING pilot - add_process_time_header: Path is: /enter_recovery_email
execution time is 0.0
2021-01-22 19:08:57.045 WARNING pilot - add_process_time_header: Path is: /api/v1/send_mail
execution time is 0.0
2021-01-22 19:09:59.679 WARNING pilot - add_process_time_header: Path is: /api/v1/send_mail
execution time is 0.0
2021-01-22 19:10:05.362 WARNING pilot - add_process_time_header: Path is: /enter_recovery_email
execution time is 0.0009942054748535156
2021-01-22 19:10:08.918 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 447, in send_mail
    code = get_random_alphanumeric_string(10)
NameError: name 'get_random_alphanumeric_string' is not defined
2021-01-22 19:11:52.039 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:11:53.098 INFO main - serve: Started server process [30580]
2021-01-22 19:11:53.099 INFO on - startup: Waiting for application startup.
2021-01-22 19:11:53.103 INFO on - startup: Application startup complete.
2021-01-22 19:11:59.627 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 471, in send_mail
    return send_email(background_tasks, request)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 391, in send_email
    email=company_email,
NameError: name 'company_email' is not defined
2021-01-22 19:13:03.731 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:13:04.746 INFO main - serve: Started server process [26440]
2021-01-22 19:13:04.747 INFO on - startup: Waiting for application startup.
2021-01-22 19:13:04.748 INFO on - startup: Application startup complete.
2021-01-22 19:13:13.375 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 471, in send_mail
    return send_email(background_tasks, request)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 395, in send_email
    service="gmail",
TypeError: __init__() got an unexpected keyword argument 'email'
2021-01-22 19:13:31.928 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:13:32.969 INFO main - serve: Started server process [30732]
2021-01-22 19:13:32.970 INFO on - startup: Waiting for application startup.
2021-01-22 19:13:32.971 INFO on - startup: Application startup complete.
2021-01-22 19:13:48.825 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 471, in send_mail
    return send_email(background_tasks, request)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 395, in send_email
    service="smtp.gmail.com",
TypeError: __init__() got an unexpected keyword argument 'email'
2021-01-22 19:21:47.877 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:21:52.291 INFO main - serve: Started server process [31000]
2021-01-22 19:21:52.293 INFO on - startup: Waiting for application startup.
2021-01-22 19:21:52.295 INFO on - startup: Application startup complete.
2021-01-22 19:22:21.406 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:22:25.984 INFO main - serve: Started server process [23176]
2021-01-22 19:22:25.987 INFO on - startup: Waiting for application startup.
2021-01-22 19:22:25.990 INFO on - startup: Application startup complete.
2021-01-22 19:22:29.735 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 490, in send_mail
    Email = email_schema.dict().get('email')
AttributeError: 'EmailSchema' object has no attribute 'dict'
2021-01-22 19:22:55.957 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:23:00.448 INFO main - serve: Started server process [24596]
2021-01-22 19:23:00.450 INFO on - startup: Waiting for application startup.
2021-01-22 19:23:00.453 INFO on - startup: Application startup complete.
2021-01-22 19:23:05.671 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 491, in send_mail
    Email = email_schema.dict().get('email')
AttributeError: 'EmailSchema' object has no attribute 'dict'
2021-01-22 19:23:33.903 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:23:38.769 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:23:41.785 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:23:45.910 INFO main - serve: Started server process [27816]
2021-01-22 19:23:45.913 INFO on - startup: Waiting for application startup.
2021-01-22 19:23:45.915 INFO on - startup: Application startup complete.
2021-01-22 19:23:54.239 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:23:58.383 INFO main - serve: Started server process [6552]
2021-01-22 19:23:58.385 INFO on - startup: Waiting for application startup.
2021-01-22 19:23:58.386 INFO on - startup: Application startup complete.
2021-01-22 19:24:02.418 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 494, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 390, in send_email
    conf = ConnectionConfig(
NameError: name 'ConnectionConfig' is not defined
2021-01-22 19:24:40.635 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:24:44.869 INFO main - serve: Started server process [13084]
2021-01-22 19:24:44.871 INFO on - startup: Waiting for application startup.
2021-01-22 19:24:44.872 INFO on - startup: Application startup complete.
2021-01-22 19:24:51.404 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 392, in send_email
    MAIL_USERNAME=krishnardt365@gmail.com,
NameError: name 'krishnardt365' is not defined
2021-01-22 19:25:16.881 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:25:21.296 INFO main - serve: Started server process [31640]
2021-01-22 19:25:21.297 INFO on - startup: Waiting for application startup.
2021-01-22 19:25:21.300 INFO on - startup: Application startup complete.
2021-01-22 19:25:24.848 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 404, in send_email
    recipients=email.dict().get("email"),  # List of recipients, as many as you can pass
AttributeError: 'str' object has no attribute 'dict'
2021-01-22 19:25:42.874 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:25:46.866 INFO main - serve: Started server process [15936]
2021-01-22 19:25:46.868 INFO on - startup: Waiting for application startup.
2021-01-22 19:25:46.870 INFO on - startup: Application startup complete.
2021-01-22 19:26:10.074 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-22 19:26:14.287 INFO main - serve: Started server process [30064]
2021-01-22 19:26:14.289 INFO on - startup: Waiting for application startup.
2021-01-22 19:26:14.291 INFO on - startup: Application startup complete.
2021-01-22 19:26:19.658 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 408, in send_email
    subtype="html"
  File "pydantic\main.py", line 346, in pydantic.main.BaseModel.__init__
pydantic.error_wrappers.ValidationError: 1 validation error for MessageSchema
recipients
  value is not a valid list (type=type_error.list)
2021-01-22 19:26:54.359 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:26:58.544 INFO main - serve: Started server process [26752]
2021-01-22 19:26:58.545 INFO on - startup: Waiting for application startup.
2021-01-22 19:26:58.548 INFO on - startup: Application startup complete.
2021-01-22 19:27:03.763 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 418, in send_email
    service="smtp.gmail.com",
TypeError: __init__() got an unexpected keyword argument 'email'
2021-01-22 19:28:10.444 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:28:14.119 INFO main - serve: Started server process [30148]
2021-01-22 19:28:14.121 INFO on - startup: Waiting for application startup.
2021-01-22 19:28:14.124 INFO on - startup: Application startup complete.
2021-01-22 19:28:20.657 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:28:25.126 INFO main - serve: Started server process [23656]
2021-01-22 19:28:25.129 INFO on - startup: Waiting for application startup.
2021-01-22 19:28:25.133 INFO on - startup: Application startup complete.
2021-01-22 19:31:58.116 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:32:13.113 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:33:19.032 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:33:23.400 INFO main - serve: Started server process [26088]
2021-01-22 19:33:23.402 INFO on - startup: Waiting for application startup.
2021-01-22 19:33:23.405 INFO on - startup: Application startup complete.
2021-01-22 19:33:23.434 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 425, in send_email
    mail.send_message,
NameError: name 'mail' is not defined
2021-01-22 19:33:24.136 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:33:28.324 INFO main - serve: Started server process [28968]
2021-01-22 19:33:28.326 INFO on - startup: Waiting for application startup.
2021-01-22 19:33:28.329 INFO on - startup: Application startup complete.
2021-01-22 19:33:37.633 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 430, in send_email
    "after_email_sent_response.html", {"request": request}
NameError: name 'request' is not defined
2021-01-22 19:34:00.410 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:34:04.747 INFO main - serve: Started server process [27948]
2021-01-22 19:34:04.749 INFO on - startup: Waiting for application startup.
2021-01-22 19:34:04.751 INFO on - startup: Application startup complete.
2021-01-22 19:34:08.293 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 430, in send_email
    "after_email_sent_response.html"
TypeError: TemplateResponse() missing 1 required positional argument: 'context'
2021-01-22 19:34:26.053 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:34:30.391 INFO main - serve: Started server process [28124]
2021-01-22 19:34:30.393 INFO on - startup: Waiting for application startup.
2021-01-22 19:34:30.394 INFO on - startup: Application startup complete.
2021-01-22 19:34:50.622 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:34:54.887 INFO main - serve: Started server process [26612]
2021-01-22 19:34:54.889 INFO on - startup: Waiting for application startup.
2021-01-22 19:34:54.889 INFO on - startup: Application startup complete.
2021-01-22 19:34:59.928 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 495, in send_mail
    return send_email(background_tasks, email, code)
TypeError: send_email() missing 1 required positional argument: 'request'
2021-01-22 19:35:51.080 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:35:55.310 INFO main - serve: Started server process [4600]
2021-01-22 19:35:55.312 INFO on - startup: Waiting for application startup.
2021-01-22 19:35:55.313 INFO on - startup: Application startup complete.
2021-01-22 19:36:00.125 WARNING pilot - add_process_time_header: Path is: /send_mail
execution time is 0.9080486297607422
2021-01-22 19:36:03.575 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 26, in __call__
    await response(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\responses.py", line 230, in __call__
    (self.listen_for_disconnect, {"receive": receive}),
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 18, in run_until_first_complete
    [task.result() for task in done]
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 18, in <listcomp>
    [task.result() for task in done]
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\responses.py", line 220, in stream_response
    async for chunk in self.body_iterator:
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 56, in body_stream
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 44, in app
    await response(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\templating.py", line 41, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\responses.py", line 142, in __call__
    await self.background()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\background.py", line 35, in __call__
    await task()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\background.py", line 18, in __call__
    await self.func(*self.args, **self.kwargs)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi_mail\fastmail.py", line 36, in send_message
    async with Connection(self.config) as session:
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi_mail\connection.py", line 26, in __aenter__
    await self._configure_connection()
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi_mail\connection.py", line 49, in _configure_connection
    raise ConnectionErrors(f"Exception raised {error}, check your credentials or email service configuration")
fastapi_mail.errors.ConnectionErrors: Exception raised (535, '5.7.8 Username and Password not accepted. Learn more at\n5.7.8  https://support.google.com/mail/?p=BadCredentials f7sm9297464pjs.25 - gsmtp'), check your credentials or email service configuration
2021-01-22 19:38:03.942 WARNING pilot - add_process_time_header: Path is: /send_mail
execution time is 0.8416109085083008
2021-01-22 19:38:55.446 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 524, in verify_passcode
    if passcode_schema.passcode == code:
NameError: name 'code' is not defined
2021-01-22 19:43:47.055 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:43:51.489 INFO main - serve: Started server process [16664]
2021-01-22 19:43:51.491 INFO on - startup: Waiting for application startup.
2021-01-22 19:43:51.493 INFO on - startup: Application startup complete.
2021-01-22 19:44:06.770 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:44:10.766 INFO main - serve: Started server process [16172]
2021-01-22 19:44:10.768 INFO on - startup: Waiting for application startup.
2021-01-22 19:44:10.769 INFO on - startup: Application startup complete.
2021-01-22 19:44:12.076 INFO main - shutdown: Shutting down
2021-01-22 19:44:12.177 INFO on - shutdown: Waiting for application shutdown.
2021-01-22 19:44:12.178 ERROR qr_logger - log_warning: quitting the application now




2021-01-22 19:44:12.178 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-22 19:44:12.180 INFO on - shutdown: Application shutdown complete.
2021-01-22 19:44:12.181 INFO main - serve: Finished server process [16172]
2021-01-22 19:44:12.404 INFO basereload - shutdown: Stopping reloader process [12892]
2021-01-22 19:56:10.710 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-22 19:56:10.712 INFO basereload - startup: Started reloader process [28952] using statreload
2021-01-22 19:56:13.945 INFO main - serve: Started server process [26136]
2021-01-22 19:56:13.947 INFO on - startup: Waiting for application startup.
2021-01-22 19:56:13.948 INFO on - startup: Application startup complete.
2021-01-22 19:56:20.205 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 490, in send_mail
    return send_email(background_tasks, email, code, request)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 397, in send_email
    MAIL_SSL=False)
  File "pydantic\env_settings.py", line 33, in pydantic.env_settings.BaseSettings.__init__
  File "pydantic\main.py", line 346, in pydantic.main.BaseModel.__init__
pydantic.error_wrappers.ValidationError: 1 validation error for ConnectionConfig
MAIL_USERNAME
  value is not a valid email address (type=value_error.email)
2021-01-22 19:56:58.342 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:57:03.611 INFO main - serve: Started server process [29628]
2021-01-22 19:57:03.612 INFO on - startup: Waiting for application startup.
2021-01-22 19:57:03.613 INFO on - startup: Application startup complete.
2021-01-22 19:57:05.101 WARNING pilot - add_process_time_header: Path is: /send_mail
execution time is 0.8832588195800781
2021-01-22 19:58:24.359 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 529, in verify_passcode
    if passcode_schema.passcode == request.code:
AttributeError: 'Request' object has no attribute 'code'
2021-01-22 19:58:57.036 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-22 19:59:01.273 INFO main - serve: Started server process [10980]
2021-01-22 19:59:01.274 INFO on - startup: Waiting for application startup.
2021-01-22 19:59:01.275 INFO on - startup: Application startup complete.
2021-01-22 19:59:05.092 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 529, in verify_passcode
    if passcode_schema.passcode == request.state.code:
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\datastructures.py", line 672, in __getattr__
    raise AttributeError(message.format(self.__class__.__name__, key))
AttributeError: 'State' object has no attribute 'code'
2021-01-23 06:54:44.546 INFO main - shutdown: Shutting down
2021-01-23 06:54:44.647 INFO on - shutdown: Waiting for application shutdown.
2021-01-23 06:54:44.653 ERROR qr_logger - log_warning: quitting the application now




2021-01-23 06:54:44.654 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-23 06:54:44.655 INFO on - shutdown: Application shutdown complete.
2021-01-23 06:54:44.656 INFO main - serve: Finished server process [10980]
2021-01-23 06:54:44.788 INFO basereload - shutdown: Stopping reloader process [28952]
2021-01-23 07:35:46.563 INFO config - bind_socket: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2021-01-23 07:35:46.564 INFO basereload - startup: Started reloader process [19404] using statreload
2021-01-23 07:35:48.001 INFO main - serve: Started server process [24784]
2021-01-23 07:35:48.002 INFO on - startup: Waiting for application startup.
2021-01-23 07:35:48.002 INFO on - startup: Application startup complete.
2021-01-23 07:36:06.808 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.0
2021-01-23 07:36:07.298 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.026995182037353516
2021-01-23 07:36:07.643 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0010039806365966797
2021-01-23 07:36:10.938 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0009799003601074219
2021-01-23 07:39:41.388 WARNING statreload - should_restart: Detected file change in 'models.py'. Reloading...
2021-01-23 07:39:42.942 INFO main - serve: Started server process [22016]
2021-01-23 07:39:42.943 INFO on - startup: Waiting for application startup.
2021-01-23 07:39:42.943 INFO on - startup: Application startup complete.
2021-01-23 07:41:36.702 WARNING statreload - should_restart: Detected file change in 'schemas.py'. Reloading...
2021-01-23 07:41:38.114 INFO main - serve: Started server process [20044]
2021-01-23 07:41:38.115 INFO on - startup: Waiting for application startup.
2021-01-23 07:41:38.116 INFO on - startup: Application startup complete.
2021-01-23 07:42:11.327 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 07:42:12.787 INFO main - serve: Started server process [21884]
2021-01-23 07:42:12.788 INFO on - startup: Waiting for application startup.
2021-01-23 07:42:12.788 INFO on - startup: Application startup complete.
2021-01-23 07:42:16.808 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 07:42:18.244 INFO main - serve: Started server process [19204]
2021-01-23 07:42:18.245 INFO on - startup: Waiting for application startup.
2021-01-23 07:42:18.246 INFO on - startup: Application startup complete.
2021-01-23 07:42:55.970 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.007999420166015625
2021-01-23 07:43:07.387 WARNING pilot - add_process_time_header: Path is: /docs
execution time is 0.0
2021-01-23 07:43:07.738 WARNING pilot - add_process_time_header: Path is: /openapi.json
execution time is 0.024003267288208008
2021-01-23 07:43:08.015 WARNING pilot - add_process_time_header: Path is: /[object Module]
execution time is 0.0
2021-01-23 07:43:53.499 WARNING pilot - add_process_time_header: Path is: /users
execution time is 0.035035133361816406
2021-01-23 07:44:27.608 WARNING pilot - add_process_time_header: Path is: /enter_recovery_email
execution time is 0.009041547775268555
2021-01-23 07:44:32.295 WARNING pilot - add_process_time_header: Path is: /send_mail
execution time is 1.330125331878662
2021-01-23 07:45:07.114 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 531, in verify_passcode
    code = crud.get_code(db, email)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 264, in get_code
    code = db.query(models.Users).filter(and_(Users.email == email, Users.recovered_yn == False)).code
AttributeError: 'Query' object has no attribute 'code'
2021-01-23 07:45:33.562 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 07:45:35.054 INFO main - serve: Started server process [31464]
2021-01-23 07:45:35.055 INFO on - startup: Waiting for application startup.
2021-01-23 07:45:35.055 INFO on - startup: Application startup complete.
2021-01-23 07:45:39.924 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 531, in verify_passcode
    code = crud.get_code(db, email)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 264, in get_code
    code = db.query(models.Users).filter(and_(Users.email == email, Users.recovered_yn == False)).recovery_password
AttributeError: 'Query' object has no attribute 'recovery_password'
2021-01-23 07:46:15.088 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 07:46:16.576 INFO main - serve: Started server process [8804]
2021-01-23 07:46:16.576 INFO on - startup: Waiting for application startup.
2021-01-23 07:46:16.577 INFO on - startup: Application startup complete.
2021-01-23 07:46:25.161 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 531, in verify_passcode
    code = crud.get_code(db, email)
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 265, in get_code
    code = code.recovery_password
AttributeError: 'NoneType' object has no attribute 'recovery_password'
2021-01-23 07:47:15.159 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-23 07:47:16.804 INFO main - serve: Started server process [32424]
2021-01-23 07:47:16.805 INFO on - startup: Waiting for application startup.
2021-01-23 07:47:16.806 INFO on - startup: Application startup complete.
2021-01-23 07:47:21.747 WARNING pilot - add_process_time_header: Path is: /account_recovery/
execution time is 0.04601740837097168
2021-01-23 07:47:24.837 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.002039670944213867
2021-01-23 07:47:46.513 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.36299824714660645
2021-01-23 07:56:48.290 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 07:56:49.819 INFO main - serve: Started server process [4144]
2021-01-23 07:56:49.820 INFO on - startup: Waiting for application startup.
2021-01-23 07:56:49.820 INFO on - startup: Application startup complete.
2021-01-23 08:01:07.840 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 08:01:09.390 INFO main - serve: Started server process [11956]
2021-01-23 08:01:09.391 INFO on - startup: Waiting for application startup.
2021-01-23 08:01:09.391 INFO on - startup: Application startup complete.
2021-01-23 08:01:32.142 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 08:01:33.475 INFO main - serve: Started server process [17864]
2021-01-23 08:01:33.476 INFO on - startup: Waiting for application startup.
2021-01-23 08:01:33.476 INFO on - startup: Application startup complete.
2021-01-23 08:02:37.101 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-23 08:02:38.438 INFO main - serve: Started server process [17936]
2021-01-23 08:02:38.439 INFO on - startup: Waiting for application startup.
2021-01-23 08:02:38.439 INFO on - startup: Application startup complete.
2021-01-23 08:03:11.374 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-23 08:03:12.732 INFO main - serve: Started server process [8444]
2021-01-23 08:03:12.734 INFO on - startup: Waiting for application startup.
2021-01-23 08:03:12.735 INFO on - startup: Application startup complete.
2021-01-23 08:03:28.177 WARNING pilot - add_process_time_header: Path is: /update_user_password
execution time is 0.3340184688568115
2021-01-23 08:15:11.508 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0059528350830078125
2021-01-23 08:15:18.917 WARNING pilot - add_process_time_header: Path is: /change_user_password
execution time is 0.008005380630493164
2021-01-23 08:15:30.493 WARNING pilot - add_process_time_header: Path is: /enter_recovery_email
execution time is 0.0019648075103759766
2021-01-23 08:15:35.136 WARNING pilot - add_process_time_header: Path is: /send_mail
execution time is 1.2263884544372559
2021-01-23 08:15:49.899 WARNING pilot - add_process_time_header: Path is: /account_recovery/
execution time is 0.006028890609741211
2021-01-23 08:15:54.888 WARNING pilot - add_process_time_header: Path is: /re_enter_passcode
execution time is 0.0010013580322265625
2021-01-23 08:15:58.696 WARNING pilot - add_process_time_header: Path is: /account_recovery/
execution time is 0.004036426544189453
2021-01-23 08:16:00.230 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "C:\ProgramData\Anaconda3\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 498, in send_mail_again
    return send_email(background_tasks, request)
TypeError: send_email() missing 2 required positional arguments: 'code' and 'request'
2021-01-23 08:17:54.762 WARNING pilot - add_process_time_header: Path is: /re_enter_passcode
execution time is 0.0009751319885253906
2021-01-23 08:18:21.693 WARNING pilot - add_process_time_header: Path is: /account_recovery/
execution time is 0.008005857467651367
2021-01-23 08:18:24.832 WARNING pilot - add_process_time_header: Path is: /change_password
execution time is 0.0010139942169189453
2021-01-23 08:18:47.949 WARNING pilot - add_process_time_header: Path is: /change_user_password
execution time is 0.004000186920166016
2021-01-23 08:20:17.002 WARNING statreload - should_restart: Detected file change in 'security.py'. Reloading...
2021-01-23 08:20:18.676 INFO main - serve: Started server process [16056]
2021-01-23 08:20:18.677 INFO on - startup: Waiting for application startup.
2021-01-23 08:20:18.678 INFO on - startup: Application startup complete.
2021-01-23 08:20:28.156 WARNING pilot - add_process_time_header: Path is: /change_user_password
execution time is 0.020992279052734375
2021-01-23 08:20:52.347 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 08:20:53.697 INFO main - serve: Started server process [30560]
2021-01-23 08:20:53.698 INFO on - startup: Waiting for application startup.
2021-01-23 08:20:53.698 INFO on - startup: Application startup complete.
2021-01-23 08:21:04.363 ERROR h11_impl - run_asgi: Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\protocols\http\h11_impl.py", line 389, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\uvicorn\middleware\proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 181, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "C:\Users\krish\Documents\QRmenu\pilot.py", line 155, in add_process_time_header
    response = await call_next(request)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 45, in call_next
    task.result()
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\middleware\base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 82, in __call__
    raise exc from None
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "C:\Users\krish\AppData\Roaming\Python\Python37\site-packages\starlette\routing.py", line 41, in app
    response = await func(request)
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "C:\ProgramData\Anaconda3\lib\site-packages\fastapi\routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "C:\Users\krish\Documents\QRmenu\security.py", line 587, in update_password
    recovery_status = crud.get_recovery_status(db, "krishnardt365@gmail.com")
  File "C:\Users\krish\Documents\QRmenu\crud.py", line 270, in get_recovery_status
    code = code.recovery_yn
AttributeError: 'Users' object has no attribute 'recovery_yn'
2021-01-23 08:21:23.504 WARNING statreload - should_restart: Detected file change in 'crud.py'. Reloading...
2021-01-23 08:21:24.983 INFO main - serve: Started server process [31876]
2021-01-23 08:21:24.984 INFO on - startup: Waiting for application startup.
2021-01-23 08:21:24.984 INFO on - startup: Application startup complete.
2021-01-23 08:21:35.585 WARNING pilot - add_process_time_header: Path is: /change_user_password
execution time is 0.34600305557250977
2021-01-23 08:21:53.328 WARNING pilot - add_process_time_header: Path is: /change_user_password
execution time is 0.005051374435424805
2021-01-23 08:22:16.400 INFO main - shutdown: Shutting down
2021-01-23 08:22:16.501 INFO on - shutdown: Waiting for application shutdown.
2021-01-23 08:22:16.502 ERROR qr_logger - log_warning: quitting the application now




2021-01-23 08:22:16.503 INFO on - main: ASGI 'lifespan' protocol appears unsupported.
2021-01-23 08:22:16.504 INFO on - shutdown: Application shutdown complete.
2021-01-23 08:22:16.505 INFO main - serve: Finished server process [31876]
2021-01-23 08:22:16.689 INFO basereload - shutdown: Stopping reloader process [19404]
